<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hello Memo</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://iitii.github.io/"/>
  <updated>2020-02-04T11:52:49.523Z</updated>
  <id>https://iitii.github.io/</id>
  
  <author>
    <name>IITII</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>在 v2ray 中同时开启 socks 和 http 代理</title>
    <link href="https://iitii.github.io/2020/02/04/1/"/>
    <id>https://iitii.github.io/2020/02/04/1/</id>
    <published>2020-02-04T09:26:43.000Z</published>
    <updated>2020-02-04T11:52:49.523Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前置要求"><a href="#前置要求" class="headerlink" title="前置要求"></a>前置要求</h3><ol><li>有 v2ray-core 客户端</li><li>有一定的 Linux 操作基础</li></ol><h3 id="一些介绍"><a href="#一些介绍" class="headerlink" title="一些介绍"></a>一些介绍</h3><ul><li>正如我们所知的那样, <code>v2ray</code> 的配置文件大体是由 <code>log</code> + <code>inbound</code> + <code>outbound</code> + <code>route</code> 组成的。</li><li>下面是一个简单的 v2ray 配置文件<blockquote><p>config.json  </p></blockquote></li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"log"</span>: &#123;</span><br><span class="line">    <span class="attr">"loglevel"</span>: <span class="string">"warning"</span>,</span><br><span class="line">    <span class="attr">"access"</span>: <span class="string">"D:\\v2ray\\access.log"</span>,</span><br><span class="line">    <span class="attr">"error"</span>: <span class="string">"D:\\v2ray\\error.log"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"inbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"port"</span>: <span class="number">1080</span>,</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"socks"</span>,</span><br><span class="line">      <span class="attr">"sniffing"</span>: &#123;</span><br><span class="line">        <span class="attr">"enabled"</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">"destOverride"</span>: [<span class="string">"http"</span>, <span class="string">"tls"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"auth"</span>: <span class="string">"noauth"</span>,</span><br><span class="line">        <span class="attr">"udp"</span>: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"outbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"vmess"</span>,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"vnext"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"address"</span>: <span class="string">"serveraddr.com"</span>,</span><br><span class="line">            <span class="attr">"port"</span>: <span class="number">16823</span>,  </span><br><span class="line">            <span class="attr">"users"</span>: [</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="attr">"id"</span>: <span class="string">"b831381d-6324-4d53-ad4f-8cda48b30811"</span>,</span><br><span class="line">                <span class="attr">"alterId"</span>: <span class="number">64</span></span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"freedom"</span>,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;&#125;,</span><br><span class="line">      <span class="attr">"tag"</span>: <span class="string">"direct"</span></span><br><span class="line">    &#125;    </span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"routing"</span>: &#123;</span><br><span class="line">    <span class="attr">"domainStrategy"</span>: <span class="string">"IPOnDemand"</span>,</span><br><span class="line">    <span class="attr">"rules"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">        <span class="attr">"outboundTag"</span>: <span class="string">"direct"</span>,</span><br><span class="line">        <span class="attr">"domain"</span>: [<span class="string">"geosite:cn"</span>] // 中国大陆主流网站的域名</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">        <span class="attr">"outboundTag"</span>: <span class="string">"direct"</span>,</span><br><span class="line">        <span class="attr">"ip"</span>: [</span><br><span class="line">          <span class="string">"geoip:cn"</span>, // 中国大陆的 IP</span><br><span class="line">          <span class="string">"geoip:private"</span> // 私有地址 IP，如路由器等</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><img src="/images/Linux/v2ray/multiInBounds.png" alt="alt"></p><ul><li>在图片中我们可以清楚的看到该配置文件有<strong>一个 <code>inbound</code></strong> 和 <strong>两个 <code>outbound</code></strong> 以及 <strong>两条路由规则</strong>。</li></ul><h3 id="一些想法"><a href="#一些想法" class="headerlink" title="一些想法"></a>一些想法</h3><ul><li>既然可以有多个 <code>outbound</code> 那么为什么不能有多个 <code>inbound</code> ？</li><li>而且官方文档里也说了，<code>inbounds</code> 和 <code>outbounds</code> 是 <code>inbound</code> 和 <code>outbound</code> 的集合。</li></ul><h4 id="简单的尝试"><a href="#简单的尝试" class="headerlink" title="简单的尝试"></a>简单的尝试</h4><blockquote><p>以上面的 config.json 为例，copy &amp; paste<br>然后再修改一下端口协议什么的  </p></blockquote><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"log"</span>: &#123;</span><br><span class="line">    <span class="attr">"loglevel"</span>: <span class="string">"warning"</span>,</span><br><span class="line">    <span class="attr">"access"</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="attr">"error"</span>: <span class="string">""</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"inbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"port"</span>: <span class="number">1080</span>,</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"socks"</span>,</span><br><span class="line">      <span class="attr">"sniffing"</span>: &#123;</span><br><span class="line">        <span class="attr">"enabled"</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">"destOverride"</span>: [<span class="string">"http"</span>, <span class="string">"tls"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"auth"</span>: <span class="string">"noauth"</span>,</span><br><span class="line">        <span class="attr">"udp"</span>: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"port"</span>: <span class="number">1081</span>,</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"http"</span>,</span><br><span class="line">      <span class="attr">"sniffing"</span>: &#123;</span><br><span class="line">        <span class="attr">"enabled"</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">"destOverride"</span>: [<span class="string">"http"</span>, <span class="string">"tls"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"auth"</span>: <span class="string">"noauth"</span>,</span><br><span class="line">        <span class="attr">"udp"</span>: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"outbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"vmess"</span>,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"vnext"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"address"</span>: <span class="string">"serveraddr.com"</span>,</span><br><span class="line">            <span class="attr">"port"</span>: <span class="number">16823</span>,  </span><br><span class="line">            <span class="attr">"users"</span>: [</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="attr">"id"</span>: <span class="string">"b831381d-6324-4d53-ad4f-8cda48b30811"</span>,</span><br><span class="line">                <span class="attr">"alterId"</span>: <span class="number">64</span></span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"freedom"</span>,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;&#125;,</span><br><span class="line">      <span class="attr">"tag"</span>: <span class="string">"direct"</span></span><br><span class="line">    &#125;    </span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"routing"</span>: &#123;</span><br><span class="line">    <span class="attr">"domainStrategy"</span>: <span class="string">"IPOnDemand"</span>,</span><br><span class="line">    <span class="attr">"rules"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">        <span class="attr">"outboundTag"</span>: <span class="string">"direct"</span>,</span><br><span class="line">        <span class="attr">"domain"</span>: [<span class="string">"geosite:cn"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">        <span class="attr">"outboundTag"</span>: <span class="string">"direct"</span>,</span><br><span class="line">        <span class="attr">"ip"</span>: [</span><br><span class="line">          <span class="string">"geoip:cn"</span>,</span><br><span class="line">          <span class="string">"geoip:private"</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><img src="/images/Linux/v2ray/multiInBounds-1.png" alt="alt"></p><h4 id="尝试的结果"><a href="#尝试的结果" class="headerlink" title="尝试的结果"></a>尝试的结果</h4><ul><li><code>./v2ray --conf=./config.json</code>  </li></ul><p><img src="/images/Linux/v2ray/multiInBounds-2.png" alt="alt"></p><ul><li><code>lsof -i:1080 &amp;&amp; lsof -i:1081</code></li></ul><p><img src="/images/Linux/v2ray/multiInBounds-3.png" alt="alt"></p><blockquote><p>显然试验成功了。那么是 <strong>为什么</strong> 呢？</p></blockquote><h3 id="一些原因"><a href="#一些原因" class="headerlink" title="一些原因"></a>一些原因</h3><ol><li>我们可以将 <code>v2ray</code> 看成一个带加密功能的 <code>switch</code> , 将 <code>inbound</code> 看成 <code>LAN</code> 口，将 <code>outbound</code> 看成 <code>WAN</code> 口。</li><li>如果我们想正常上网，那么我们就得添加路由规则。也就是 <code>routing</code> 下面的 <code>rule</code> 。</li><li><code>v2ray</code> 接收来着 <code>LAN口</code> 的流量（也就是用户的流量），经过 <code>rule</code> 的匹配筛选后，转发给对应的 <code>WAN口</code> ，从而实现正常上网。</li><li>参考上面 <code>config.json</code> 里面的 <code>rule</code> ，<code>inboundTag</code> 都为空，<code>outboundTag</code> 都有明显的值。相当于匹配所有 <code>inboundTag</code> ，不区分，只区分应该转发到哪个 <code>outboundTag</code> （<strong><em>相当于默认路由</em></strong>）。</li><li><p>？如何匹配路由？我们可以看到在每一个 <code>rule</code> 下面都有一个 <code>ip</code> 或者 <code>domain</code>, <code>v2ray</code> 根据这个来匹配。<a href="#routing-%e4%b8%8b-rule-%e7%9a%84-ip-%e6%88%96%e5%9f%9f%e5%90%8d%e4%b9%a6%e5%86%99%e8%a7%84%e8%8c%83">书写规范</a></p><p><img src="/images/Linux/v2ray/multiInBounds-4.png" alt="alt"></p></li></ol><h3 id="routing-下-rule-的-IP-或域名书写规范"><a href="#routing-下-rule-的-IP-或域名书写规范" class="headerlink" title="routing 下 rule 的 IP 或域名书写规范"></a>routing 下 rule 的 IP 或域名书写规范</h3><blockquote><p>官方文档：<a href="https://guide.v2fly.org/basics/routing/basics_routing.html" target="_blank" rel="noopener">https://guide.v2fly.org/basics/routing/basics_routing.html</a><br>为了方便，copy 一份如下：</p></blockquote><h4 id="关于路由规则的注意事项"><a href="#关于路由规则的注意事项" class="headerlink" title="关于路由规则的注意事项"></a>关于路由规则的注意事项</h4><p>本节记录了一些新手朋友使用 V2Ray 使用路由功能时常范的错误，希望大家能够避免。</p><h5 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h5><p>如果我想让淘宝和京东的域名直连，路由功能的规则写成下面这样的，你觉得这样的规则有问题吗？</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">        <span class="attr">"outboundTag"</span>: <span class="string">"direct"</span>,</span><br><span class="line">        <span class="attr">"domain"</span>: [</span><br><span class="line">            <span class="string">"*.taobao.com"</span>,</span><br><span class="line">            <span class="string">"*.jd.com"</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></div><p>看起来没有什么问题，但事实上，有。如果使用了这样的规则，你会发现根本没有走 direct 直连。很奇怪？这并不奇怪。这是因为你的经验在作祟。在 V2Ray 中，星号 * 不具备通配符的意义，只是一个普通的字符而已，是你以为星号 * 是通配符，这是臆想。如果想要匹配所有子域名的话，可以这么写规则：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">        <span class="attr">"outboundTag"</span>: <span class="string">"direct"</span>,</span><br><span class="line">        <span class="attr">"domain"</span>: [</span><br><span class="line">            <span class="string">"domain:taobao.com"</span>,</span><br><span class="line">            <span class="string">"domain:jd.com"</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></div><p><code>domain:</code> 代表子域名，如 “domain:taobao.com” 这样一条规则包含了所有 taobao.com 域名及其子域名。</p><h5 id="IP-amp-domain"><a href="#IP-amp-domain" class="headerlink" title="IP &amp; domain"></a>IP &amp; domain</h5><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">        <span class="attr">"outboundTag"</span>: <span class="string">"direct"</span>,</span><br><span class="line">        <span class="attr">"domain"</span>: [</span><br><span class="line">            <span class="string">"domain:taobao.com"</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">"ip"</span>: [</span><br><span class="line">            <span class="string">"192.168.0.0/16"</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></div><p>这样的一个规则的严格来说没有问题，真正的问题在与使用者不理解规则的配置。如果要匹配以上的规则，那么代表这有一个数据包的目标地址域名是 taobao.com 并且 IP 属于 192.168.0.0.1/16。通常情况下这是不可能的，所以你访问淘宝是不会匹配这个规则。如果你要满足域名和 IP 任一条件都能够匹配规则，那么应该这么写：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">        <span class="attr">"outboundTag"</span>: <span class="string">"direct"</span>,</span><br><span class="line">        <span class="attr">"domain"</span>: [</span><br><span class="line">            <span class="string">"domain:taobao.com"</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;，</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">        <span class="attr">"outboundTag"</span>: <span class="string">"direct"</span>,</span><br><span class="line">        <span class="attr">"ip"</span>: [</span><br><span class="line">            <span class="string">"192.168.0.0/16"</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></div>]]></content>
    
    <summary type="html">
    
      有的时候我们既需要 socks 代理也需要 http 代理，但是有的时候我们只能提供其中一个代理，怎么办？开 N 个 V2ray 吗？显然不合理。
    
    </summary>
    
      <category term="ladder" scheme="https://iitii.github.io/categories/ladder/"/>
    
    
      <category term="v2ray" scheme="https://iitii.github.io/tags/v2ray/"/>
    
  </entry>
  
  <entry>
    <title>V2ray WebSocket+TLS+Web + NGINX 国内反代</title>
    <link href="https://iitii.github.io/2019/11/04/1/"/>
    <id>https://iitii.github.io/2019/11/04/1/</id>
    <published>2019-11-04T06:40:42.000Z</published>
    <updated>2019-11-04T08:05:03.312Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center">新手止步</blockquote><h3 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h3><ol><li>可以熟练的使用 vim, 原生 V2ray, NGINX</li><li>懂得提问的艺术</li><li>具有文中提到的软硬件资源。如：VPS &amp; 域名</li></ol><h3 id="架构图"><a href="#架构图" class="headerlink" title="架构图"></a>架构图</h3><blockquote><p>当然在反代服务器那边也可以套 N 多层…</p></blockquote><p><img src="/images/Linux/v2ray/1.png" alt="Loading"></p><h3 id="DEFINE"><a href="#DEFINE" class="headerlink" title="DEFINE"></a>DEFINE</h3><ul><li>V2ray Server<ul><li>Domain: <code>server.com</code></li><li>id: <code>7e6d2332-880e-4814-82ab-587bbb852361</code></li><li>path: <code>/path</code></li><li>SSL path: <code>/ssl</code></li><li>SSL file name: <code>pem.pem</code>, <code>key.key</code></li></ul></li><li>Reverse Server<ul><li>Domain: <code>reverse.com</code></li><li>path: <code>/path</code></li></ul></li></ul><blockquote><p>注意：V2ray Server 的 nginx 站点配置应为 <strong>default_server</strong>, 反代服务器的 NGINX 配置文件没有要求为 <strong>default_server</strong>, 但是也 <strong>不应该</strong> 指定其他站点为 <strong>default_server</strong>。<br>推荐将其都设置为 <strong>default_server</strong>。  </p></blockquote><h3 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h3><blockquote><p>TLS 服务由 NGINX 提供，无需再 config.json 定义</p></blockquote><ol><li><p>安装必须项</p><ol><li><p>sudo apt install nginx -y 或者 yum install nginx -y </p></li><li><p>bash &lt;(curl -L -s <a href="https://install.direct/go.sh" target="_blank" rel="noopener">https://install.direct/go.sh</a>)</p></li></ol></li><li><p>vim /etc/v2ray/config.json</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"inbounds"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"port"</span>: <span class="number">23233</span>,</span><br><span class="line">            <span class="attr">"listen"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">            <span class="attr">"protocol"</span>: <span class="string">"vmess"</span>,</span><br><span class="line">            <span class="attr">"settings"</span>: &#123;</span><br><span class="line">                <span class="attr">"clients"</span>: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">"id"</span>: <span class="string">"7e6d2332-880e-4814-82ab-587bbb852361"</span>,</span><br><span class="line">                        <span class="attr">"alterId"</span>: <span class="number">64</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">"streamSettings"</span>: &#123;</span><br><span class="line">                <span class="attr">"network"</span>: <span class="string">"ws"</span>,</span><br><span class="line">                <span class="attr">"wsSettings"</span>: &#123;</span><br><span class="line">                    <span class="attr">"path"</span>: <span class="string">"/path"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"outbounds"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"protocol"</span>: <span class="string">"freedom"</span>,</span><br><span class="line">            <span class="attr">"settings"</span>: &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>vim /etc/nginx/sites-enabled/default</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="NGINX"><figure class="iseeu highlight /nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl default_server;</span><br><span class="line">    <span class="attribute">ssl</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">ssl_certificate</span>       /ssl/pem.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span>   /ssl/key.key;</span><br><span class="line">    <span class="attribute">ssl_protocols</span>         TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>;</span><br><span class="line">    <span class="attribute">ssl_ciphers</span>           HIGH:!aNULL:!MD5;</span><br><span class="line">    <span class="attribute">server_name</span>           server.com;</span><br><span class="line">      <span class="attribute">location</span> /path &#123;</span><br><span class="line">                <span class="attribute">proxy_redirect</span> <span class="literal">off</span>;</span><br><span class="line">                <span class="attribute">proxy_pass</span> http://127.0.0.1:23233;</span><br><span class="line">                <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">                <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">                <span class="attribute">proxy_set_header</span> Connection <span class="string">"upgrade"</span>;</span><br><span class="line">                <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">                 <span class="comment"># Show real IP in v2ray access.log</span></span><br><span class="line">                <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">                <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></div></li><li><p>service v2ray restart &amp;&amp; nginx -t &amp;&amp; nginx -s reload</p></li></ol><blockquote><p>到此 TLS+WEB+WS 即可用了，但是个人的网（城域网）从各个意义上来说一般是不如国内服务器的，所以继续…</p></blockquote><h3 id="反代服务器"><a href="#反代服务器" class="headerlink" title="反代服务器"></a>反代服务器</h3><blockquote><p>当然还可以上 CDN 加速</p></blockquote><ol><li><p>sudo apt install nginx -y 或者 yum install nginx -y  </p></li><li><p>vim /etc/nginx/sites-enabled/default</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="NGINX"><figure class="iseeu highlight /nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">upstream</span> server &#123;</span><br><span class="line">    <span class="attribute">server</span> server.com:<span class="number">443</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;  </span><br><span class="line">    <span class="attribute">rewrite</span><span class="regexp"> ^(.*)</span> https://<span class="variable">$host</span><span class="variable">$1</span> <span class="literal">permanent</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl default_server;</span><br><span class="line">    <span class="attribute">server_name</span> reverse.com;</span><br><span class="line">    <span class="attribute">ssl</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="attribute">ssl_certificate</span> /ssl/pem.pem;</span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /ssl/key.key;</span><br><span class="line">    <span class="attribute">ssl_session_timeout</span> <span class="number">5m</span>;</span><br><span class="line">    <span class="attribute">ssl_ciphers</span> ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>;</span><br><span class="line">    <span class="comment">#error_log    /var/log/nginx/l_error.log    error;</span></span><br><span class="line">    <span class="comment">#access_log    /var/log/nginx/l_accss.log;</span></span><br><span class="line">    <span class="attribute">location</span> /china &#123;</span><br><span class="line">        <span class="attribute">proxy_redirect</span> <span class="literal">off</span>;</span><br><span class="line">        <span class="attribute">proxy_pass</span> https://server;</span><br><span class="line">        <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Connection <span class="string">"upgrade"</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span> https://server;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$http_host</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real_IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> User-Agent <span class="variable">$http_user_agent</span>;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Accept-Encoding <span class="string">''</span>; </span><br><span class="line">        <span class="attribute">proxy_buffering</span> <span class="literal">off</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li></ol><h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><blockquote><p>如果设置了反代的话，服务器地址应修改为反代服务器地址, 所以 <code>outbounds</code> 里面的 <code>address</code> 应修改为 <code>reverse.com</code>  </p></blockquote><p><img src="/images/Linux/v2ray/2.png" alt="Loading"></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"inbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"port"</span>: <span class="number">1080</span>,</span><br><span class="line">      <span class="attr">"listen"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"socks"</span>,</span><br><span class="line">      <span class="attr">"sniffing"</span>: &#123;</span><br><span class="line">        <span class="attr">"enabled"</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">"destOverride"</span>: [<span class="string">"http"</span>, <span class="string">"tls"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"auth"</span>: <span class="string">"noauth"</span>,</span><br><span class="line">        <span class="attr">"udp"</span>: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"outbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"vmess"</span>,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"vnext"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"address"</span>: <span class="string">"server.com"</span>,</span><br><span class="line">            <span class="attr">"port"</span>: <span class="number">443</span>,</span><br><span class="line">            <span class="attr">"users"</span>: [</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="attr">"id"</span>: <span class="string">"7e6d2332-880e-4814-82ab-587bbb852361"</span>,</span><br><span class="line">                <span class="attr">"alterId"</span>: <span class="number">64</span></span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"streamSettings"</span>: &#123;</span><br><span class="line">        <span class="attr">"network"</span>: <span class="string">"ws"</span>,</span><br><span class="line">        <span class="attr">"security"</span>: <span class="string">"tls"</span>,</span><br><span class="line">        <span class="attr">"wsSettings"</span>: &#123;</span><br><span class="line">          <span class="attr">"path"</span>: <span class="string">"/path"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h3 id="¿¿¿¿¿¿"><a href="#¿¿¿¿¿¿" class="headerlink" title="¿¿¿¿¿¿"></a>¿¿¿¿¿¿</h3><ul><li><p>连接不上？看看服务器443端口开了没？防火墙？云防火墙？服务器被Q了？</p></li><li><p>看看 NGINX 和 V2RAY 日志，看不懂？哦</p></li><li>国内服务器被Q了？看看域名备案了没？</li><li>… …</li><li>¿¿¿</li></ul>]]></content>
    
    <summary type="html">
    
      走的人多了，路便有了
    
    </summary>
    
      <category term="ladder" scheme="https://iitii.github.io/categories/ladder/"/>
    
    
      <category term="v2ray" scheme="https://iitii.github.io/tags/v2ray/"/>
    
  </entry>
  
  <entry>
    <title>如何快速创建一个基于H5的折线图</title>
    <link href="https://iitii.github.io/2019/10/11/1/"/>
    <id>https://iitii.github.io/2019/10/11/1/</id>
    <published>2019-10-11T11:20:29.000Z</published>
    <updated>2019-10-11T12:25:04.689Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a><a href="https://iitii.github.io/SimpleLineChart/">Demo</a></h3><ul><li><p>项目链接：<a href="https://github.com/IITII/SimpleLineChart" target="_blank" rel="noopener">https://github.com/IITII/SimpleLineChart</a></p></li><li><p><a href="https://iitii.github.io/SimpleLineChart/">Demo</a></p></li></ul><p><img src="/images/SimpleLineChart/demo.png" alt="alt"></p><h3 id="如何使用？"><a href="#如何使用？" class="headerlink" title="如何使用？"></a>如何使用？</h3><ol><li><p><code>git clone</code> 项目</p></li><li><p>使用 <code>nginx</code> 或者其他 <code>web</code> 服务器去为其提供服务</p></li><li>打开浏览器，访问 <code>localhost</code></li></ol><h3 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h3><ul><li>实现确保该目录在 <code>nginx</code> 的 <code>web</code> 服务路径下面</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="NGINX"><figure class="iseeu highlight /nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123; </span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span> default_server;  </span><br><span class="line">    <span class="attribute">server_name</span> _;  </span><br><span class="line">    <span class="attribute">location</span> / &#123; </span><br><span class="line">    <span class="attribute">root</span> /usr/share/nginx/html; </span><br><span class="line">    <span class="attribute">index</span> index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h4 id="直接读取-txt-文件版本"><a href="#直接读取-txt-文件版本" class="headerlink" title="直接读取 txt 文件版本"></a>直接读取 <code>txt</code> 文件版本</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/share/nginx/html</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/IITII/SimpleLineChart</span><br></pre></td></tr></table></figure></div><ul><li>打开浏览器，访问 <code>localhost/SimpleLineChart/</code> 即可看到效果</li></ul><h4 id="JS-生成配置文件版本"><a href="#JS-生成配置文件版本" class="headerlink" title="JS 生成配置文件版本"></a>JS 生成配置文件版本</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/share/nginx/html</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/IITII/SimpleLineChart</span><br></pre></td></tr></table></figure></div><ul><li>打开浏览器，访问 <code>localhost/SimpleLineChart/JSONLineChart</code> 即可看到效果</li></ul><h3 id="添加数据"><a href="#添加数据" class="headerlink" title="添加数据"></a>添加数据</h3><h4 id="直接读取-txt-文件版本-1"><a href="#直接读取-txt-文件版本-1" class="headerlink" title="直接读取 txt 文件版本"></a>直接读取 <code>txt</code> 文件版本</h4><ul><li>直接向 <code>label.txt</code>,<code>label.txt</code>,<code>label.txt</code> 这三个文件里面添加数据即可<h4 id="JS-生成配置文件版本-1"><a href="#JS-生成配置文件版本-1" class="headerlink" title="JS 生成配置文件版本"></a>JS 生成配置文件版本</h4></li></ul><blockquote><p>在修改完 <code>line.json</code> 后请务必运行一下 <code>node JSONLineChart/index.js</code> 以重新生成 <code>config.json</code></p></blockquote><ul><li>原本的 <code>line.json</code>, 如下：</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"labels"</span>: [<span class="string">"label"</span>],</span><br><span class="line">  <span class="attr">"datasets"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"label"</span>: <span class="string">"label1"</span>,</span><br><span class="line">      <span class="attr">"data"</span>: [<span class="number">40</span>,<span class="number">56</span>],</span><br><span class="line">      <span class="attr">"fill"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"backgroundColor"</span>: <span class="string">"rgb(255, 99, 132)"</span>,</span><br><span class="line">      <span class="attr">"borderColor"</span>: <span class="string">"rgb(255, 99, 132)"</span>,</span><br><span class="line">      <span class="attr">"lineTension"</span>: <span class="number">0.1</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><ol><li>添加 x 轴数据：在 <code>line.json</code> 的 <code>labels</code> 里面添加数据</li></ol><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"labels"</span>: [<span class="string">"label"</span>,<span class="string">"2323"</span>,<span class="string">"4444"</span>],</span><br><span class="line">  <span class="attr">"datasets"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"label"</span>: <span class="string">"label1"</span>,</span><br><span class="line">      <span class="attr">"data"</span>: [<span class="number">40</span>,<span class="number">56</span>],</span><br><span class="line">      <span class="attr">"fill"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"backgroundColor"</span>: <span class="string">"rgb(255, 99, 132)"</span>,</span><br><span class="line">      <span class="attr">"borderColor"</span>: <span class="string">"rgb(255, 99, 132)"</span>,</span><br><span class="line">      <span class="attr">"lineTension"</span>: <span class="number">0.1</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><ol start="2"><li>添加点：在 <code>line.json</code> 的 <code>datasets[*].data</code> 里面添加数据</li></ol><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"labels"</span>: [<span class="string">"label"</span>],</span><br><span class="line">  <span class="attr">"datasets"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"label"</span>: <span class="string">"label1"</span>,</span><br><span class="line">      <span class="attr">"data"</span>: [<span class="number">40</span>,<span class="number">56</span>,<span class="number">40</span>,<span class="number">56</span>,<span class="number">40</span>,<span class="number">56</span>,<span class="number">40</span>,<span class="number">56</span>],</span><br><span class="line">      <span class="attr">"fill"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"backgroundColor"</span>: <span class="string">"rgb(255, 99, 132)"</span>,</span><br><span class="line">      <span class="attr">"borderColor"</span>: <span class="string">"rgb(255, 99, 132)"</span>,</span><br><span class="line">      <span class="attr">"lineTension"</span>: <span class="number">0.1</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><ol start="3"><li>添加线：在 <code>line.json</code> 的 <code>datasets</code> 里面添加数据</li></ol><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"labels"</span>: [<span class="string">"label"</span>],</span><br><span class="line">  <span class="attr">"datasets"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"label"</span>: <span class="string">"label1"</span>,</span><br><span class="line">      <span class="attr">"data"</span>: [<span class="number">40</span>,<span class="number">56</span>],</span><br><span class="line">      <span class="attr">"fill"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"backgroundColor"</span>: <span class="string">"rgb(255, 99, 132)"</span>,</span><br><span class="line">      <span class="attr">"borderColor"</span>: <span class="string">"rgb(255, 99, 132)"</span>,</span><br><span class="line">      <span class="attr">"lineTension"</span>: <span class="number">0.1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"label"</span>: <span class="string">"label1"</span>,</span><br><span class="line">      <span class="attr">"data"</span>: [<span class="number">40</span>,<span class="number">56</span>,<span class="number">56</span>,<span class="number">78</span>,<span class="number">56</span>,<span class="number">78</span>,<span class="number">56</span>,<span class="number">78</span>],</span><br><span class="line">      <span class="attr">"fill"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"backgroundColor"</span>: <span class="string">"rgb(25, 99, 132)"</span>,</span><br><span class="line">      <span class="attr">"borderColor"</span>: <span class="string">"rgb(255, 9, 132)"</span>,</span><br><span class="line">      <span class="attr">"lineTension"</span>: <span class="number">0.1</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h3 id="个性化"><a href="#个性化" class="headerlink" title="个性化"></a>个性化</h3><p><img src="/images/SimpleLineChart/comment.png" alt="alt"></p><h4 id="直接读取-txt-文件版本-2"><a href="#直接读取-txt-文件版本-2" class="headerlink" title="直接读取 txt 文件版本"></a>直接读取 <code>txt</code> 文件版本</h4><ul><li>根据需要可修改以下字段</li></ul><ol><li><p>Title: <code>options.title.text</code> in <code>config.json</code></p></li><li><p>X axis title: <code>options.scales.xAxes.xAxes[0].scaleLabel.labelString</code> in <code>config.json</code></p></li><li>Y axis title: <code>options.scales.yAxes.yAxes[0].scaleLabel.labelString</code> in <code>config.json</code></li><li>Line label: <code>data.datasets[*].data</code> in <code>config.json</code></li><li>Line color: <code>data.datasets[*].borderColor</code> in <code>config.json</code></li><li>Label background color: <code>data.datasets[*].backgroundColor</code> in <code>config.json</code></li></ol><h4 id="JS-生成配置文件版本-2"><a href="#JS-生成配置文件版本-2" class="headerlink" title="JS 生成配置文件版本"></a>JS 生成配置文件版本</h4><ul><li>根据需要可修改以下字段</li></ul><ol><li><p>Title: <code>options.title.text</code> in <code>config.json</code></p></li><li><p>X axis title: <code>options.scales.xAxes.xAxes[0].scaleLabel.labelString</code> in <code>config.json</code></p></li><li>Y axis title: <code>options.scales.yAxes.yAxes[0].scaleLabel.labelString</code> in <code>config.json</code></li><li>Line label: <code>datasets[*].label</code> in <code>line.json</code></li><li>Line color: <code>datasets[*].borderColor</code> in <code>line.json</code></li><li>Label background color: <code>datasets[*].backgroundColor</code> in <code>line.json</code></li></ol><h3 id="Advance"><a href="#Advance" class="headerlink" title="Advance"></a>Advance</h3><ol><li><p>图表有的时候回闪烁，BUG？NO。 在 <code>options.tooltips</code> 里面指定 <code>&quot;animation&quot;: {&quot;duration&quot;: 0}</code> 即可</p></li><li><p>你还可以修改 options 里面的其他的参数</p></li><li>参见：<ol><li>官方文档：<a href="https://www.chartjs.org/docs/latest/charts/line.html#dataset-properties" target="_blank" rel="noopener">https://www.chartjs.org/docs/latest/charts/line.html#dataset-properties</a></li><li>网友翻译：<a href="https://segmentfault.com/a/1190000008498664#articleHeader16" target="_blank" rel="noopener">https://segmentfault.com/a/1190000008498664#articleHeader16</a></li></ol></li></ol>]]></content>
    
    <summary type="html">
    
      有的时候我们需要做一个简单而漂亮的图表，怎么办呢？我们可以使用基于 chart.js 的 SimpleLineChart 来实现。
    
    </summary>
    
      <category term="前端" scheme="https://iitii.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="HTML" scheme="https://iitii.github.io/categories/%E5%89%8D%E7%AB%AF/HTML/"/>
    
      <category term="JS" scheme="https://iitii.github.io/categories/%E5%89%8D%E7%AB%AF/HTML/JS/"/>
    
    
      <category term="前端" scheme="https://iitii.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="折线图" scheme="https://iitii.github.io/tags/%E6%8A%98%E7%BA%BF%E5%9B%BE/"/>
    
      <category term="在线图表" scheme="https://iitii.github.io/tags/%E5%9C%A8%E7%BA%BF%E5%9B%BE%E8%A1%A8/"/>
    
      <category term="chart.js" scheme="https://iitii.github.io/tags/chart-js/"/>
    
      <category term="chart" scheme="https://iitii.github.io/tags/chart/"/>
    
      <category term="HTML" scheme="https://iitii.github.io/tags/HTML/"/>
    
      <category term="JS" scheme="https://iitii.github.io/tags/JS/"/>
    
  </entry>
  
  <entry>
    <title>使用tar命令来实现Linux系统的备份与恢复</title>
    <link href="https://iitii.github.io/2019/08/06/1/"/>
    <id>https://iitii.github.io/2019/08/06/1/</id>
    <published>2019-08-05T17:13:31.000Z</published>
    <updated>2019-08-12T03:15:49.480Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning">            <ol><li>本文适用于具有一定基础和动手能力的 Linux 用户, 不清楚之处还请自行百度</li><li>系统的备份与恢复具有很大风险，在操作之前还请备份重要数据先。</li></ol>          </div><h3 id="以-Ubuntu18-04-系统为例"><a href="#以-Ubuntu18-04-系统为例" class="headerlink" title="以 Ubuntu18.04 系统为例"></a>以 Ubuntu18.04 系统为例</h3><blockquote><p>系统配置</p><ul><li>OS: Ubuntu 18.04</li><li>mem: 16G</li><li>disk1: TOSHIBA 256G 2280 m.2 sata</li><li>disk2: HS-C2000Pro 1024</li><li>Display: NVIDIA GTX 1050 (cuda 已配置)</li></ul></blockquote><blockquote><p>磁盘分区表</p></blockquote><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">root@l: lsblk</span><br><span class="line">NAME                      MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda                         8:0    0  256G  0 disk</span><br><span class="line">├─sda1                      8:1    0   99M  0 part /boot/efi</span><br><span class="line">├─sda2                      8:2    0  216M  0 part</span><br><span class="line">└─sda3                      8:3    0   40G  0 part /</span><br><span class="line">sdb                         8:0    0 1024G  0 disk</span><br><span class="line">├─sdb1                      8:1    0   99M  0 part</span><br><span class="line">├─sdb2                      8:2    0  128M  0 part </span><br><span class="line">├─sdb3                      8:2    0  873G  0 part </span><br><span class="line">└─sdb4                      8:3    0  150G  0 part</span><br></pre></td></tr></table></figure></div><h3 id="对于整个系统进行备份与恢复"><a href="#对于整个系统进行备份与恢复" class="headerlink" title="对于整个系统进行备份与恢复"></a>对于整个系统进行备份与恢复</h3><ul><li>示例：将系统从 <code>/dev/sda3</code> 移动到 <code>/dev/sdb4</code><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3></li></ul><ol><li>删除不必要的日志文件</li><li>取消不重要 <em>盘/分区</em> 的挂载</li></ol><h3 id="开始备份"><a href="#开始备份" class="headerlink" title="开始备份"></a>开始备份</h3><ul><li>同理，您也可以将压缩以后的文件任意移动到一个足够大的分区中，然后使用U盘引导，进入 live 桌面  </li><li>当然你也可以通过网络实现实时远程备份，如使用 <code>netcat(nc)</code> 和 <code>ssh</code>，或者先备份，之后再通过网络发送压缩包。</li></ul><ol><li>进入了单人模式，首先将不必要的挂载分区给取消挂载</li><li>挂载要存放文件的分区</li><li>压缩根目录</li></ol><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#备份系统</span></span><br><span class="line">root@l: <span class="built_in">cd</span> / &amp;&amp; apt clean</span><br><span class="line">root@l: mount /dev/sdb4 /media/D</span><br><span class="line">root@l: tar -cvpzf /media/D/backup.tar.gz \</span><br><span class="line">--exclude=/media \</span><br><span class="line">--exclude=/media/D/backup.tar.gz \</span><br><span class="line">--exclude=/proc \</span><br><span class="line">--exclude=/tmp \</span><br><span class="line">--exclude=/mnt \</span><br><span class="line">--exclude=/dev \</span><br><span class="line">--exclude=/sys \</span><br><span class="line">--exclude=/run \</span><br><span class="line">--exclude=/var/cache/apt/archives \</span><br><span class="line">--one-file-system /</span><br></pre></td></tr></table></figure></div><ul><li>c：创建压缩包</li><li>v：输出压缩信息</li><li>p：保持文件原有的权限和属性</li><li>z：压缩文件为 <code>.gz</code></li><li>f：指定文件名</li><li>–exclude=/example/path：不压缩指定路径下面的文件</li><li>-one-file-system：不备份其他文件系统中的文件（只备份和系统根分区一样分区类型的文件）</li><li>如果您希望其他文件系统（例如 /home分区或安装在 /media备份中的外部介质），您需要单独备份它们，或省略此标志。如果省略此标志，则需要添加几个 –exclude= 参数以避免您不想要的文件系统。 </li><li>/proc 和 /sys 是虚拟文件系统，它为正在运行的内核的变量提供接口，因此没有必要尝试备份或还原它们。 /dev 是一个tmpfs，其内容由udev动态创建和删除，因此您也没有必要尝试备份或还原它。同样，/run 是一个 tmpfs，它保存有关系统运行的一些变量.<ul><li>For more: <a href="https://iitii.github.io/2019/07/10/1/">Here</a><blockquote><p>注意：<code>--exclude=</code> 的排除是递归的，把相对越长的目录写在前面。要不然就不会备份或者排除该目录</p></blockquote></li></ul></li></ul><h3 id="分卷压缩"><a href="#分卷压缩" class="headerlink" title="分卷压缩"></a>分卷压缩</h3><ul><li>注意：因为 FAT32 最大支持文件大小为4G而且系统备份 <strong>一般</strong> 比较大（<strong>一般 30G 起步</strong>），不强制要求，自行抉择</li></ul><h4 id="压缩后分卷"><a href="#压缩后分卷" class="headerlink" title="压缩后分卷"></a>压缩后分卷</h4><ul><li><code>split -d -b 3900m /path/to/backup.tar.gz /name/of/backup.tar.gz</code>  </li><li>简单地拆分由/path/to/backup.tar.gz指定的现有文件。<h4 id="压缩前分卷"><a href="#压缩前分卷" class="headerlink" title="压缩前分卷"></a>压缩前分卷</h4></li><li><code>tar -cvpz &lt;put options here&gt; / | split -d -b 3900m  -  /name/of/backup.tar.gz</code></li><li>直到管道（|）的前半部分与我们之前的例子相同，但是省略了 <strong><em>f</em></strong> 选项。去掉 <strong><em>f</em></strong> 参数，tar会将存档输出到标准输出，然后通过管道输出到split命令。</li><li><code>-d</code>  此选项表示存档后缀将是数字而不是字母，每个拆分将从01开始顺序，并随每个新的拆分文件而增加。</li><li><code>-b</code>  此选项指定要拆分的大小，在此示例中，已将其设置为 <strong><em>3900MB</em></strong> 以适合FAT32分区。</li><li><code>-</code> 连字符是输入文件的占位符（通常是已创建的实际文件），并指示拆分以使用标准输入。 </li><li><code>/name/of/backup.tar.gz</code> 是将应用于所有生成的拆分文件的前缀。它应该指向您希望放置存档的文件夹。在这个示例中，第一个拆分归档文件将位于 <code>/name/of/</code> 目录中，并命名为 <code>backup.tar.gz.01</code></li></ul><h4 id="合并分卷文件"><a href="#合并分卷文件" class="headerlink" title="合并分卷文件"></a>合并分卷文件</h4><ol><li>cd 进入文件所在的目录</li><li>使用 <code>cat *tar.gz* |tar -xvpzf - -C /</code> 提取到根目录（也可以修改为其他目录）</li></ol><h3 id="开始恢复"><a href="#开始恢复" class="headerlink" title="开始恢复"></a>开始恢复</h3><div class="note info">            <ol><li>对于同一台电脑进行备份直接跟着教程走</li><li>不同的电脑实现备份的话，可以先做一个启动盘，然后U盘启动进入live桌面，接下来操作是一样的</li><li>对于已有系统想替换掉的话，可以和第二点进行一样的做法，不过记得 <strong><em>备份和格式化分区</em></strong></li></ol>          </div><ol><li>重启，正常进入系统</li><li>挂载要安装系统的分区</li><li>解压</li><li>创建缺少的文件夹</li><li>挂载启动分区</li><li>安装 <code>grub</code></li><li>reboot</li></ol><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">root@l: mount /dev/sdb4 /media/D</span><br><span class="line">root@l: <span class="built_in">cd</span> /media/D/</span><br><span class="line">root@l: sudo tar -xvpzf /path/to/backup.tar.gz -C /media/D/ --numeric-owner</span><br><span class="line">root@l: mkdir proc sys mnt media tmp dev run</span><br><span class="line">root@l: sudo -s</span><br><span class="line"><span class="comment"># 挂载启动分区</span></span><br><span class="line">root@l: mount /dev/sdb1 /media/c</span><br><span class="line">root@l: mount -o <span class="built_in">bind</span> /sys sys</span><br><span class="line">root@l: mount -o proc rpoc</span><br><span class="line">root@l: <span class="built_in">cd</span> / ; <span class="keyword">for</span> f <span class="keyword">in</span> dev dev/pts proc ; <span class="keyword">do</span> mount --<span class="built_in">bind</span> /<span class="variable">$f</span> /media/D/<span class="variable">$f</span> ; <span class="keyword">done</span></span><br><span class="line">root@l: chroot /media/D/</span><br><span class="line">root@l: grub-install --recheck --no-floppy /dev/sdb1</span><br><span class="line">root@l: <span class="built_in">echo</span> <span class="string">"`blkid | grep sda1 | awk '&#123;printf <span class="variable">$2</span>&#125;' | sed 's/"</span>//g<span class="string">'` /opt ext4 defaults 0 0" &gt;&gt; /etc/fstab</span></span><br><span class="line"><span class="string">root@l: echo "`blkid | grep sda4 | awk '</span>&#123;<span class="built_in">printf</span> <span class="variable">$2</span>&#125;<span class="string">' | sed '</span>s/<span class="string">"//g'` /opt ext4 defaults 0 0"</span> &gt;&gt; /etc/fstab</span><br><span class="line">root@l: vim /etc/fstab</span><br><span class="line">root@l: update-grub</span><br><span class="line">root@l: <span class="built_in">exit</span></span><br><span class="line">root@l: reboot</span><br></pre></td></tr></table></figure></div><ol><li><code>x</code> 解压文件</li><li>-C <directory> 解压至指定路径</directory></li><li>–numeric-owner - 此选项告诉tar恢复归档文件的数字所有者，而不是匹配要还原的环境中的任何用户名。因为这是您要恢复的系统中的用户 <code>id:s</code> 不一定与您用于恢复的系统匹配(例如: <em>live CD</em> )</li></ol><h3 id="参见"><a href="#参见" class="headerlink" title="参见"></a>参见</h3><ol><li><a href="https://help.ubuntu.com/community/BackupYourSystem/TAR" target="_blank" rel="noopener">Ubuntu Documentation: TAR</a></li><li><a href="https://zeldor.biz/2010/12/install-grub-from-chroot/" target="_blank" rel="noopener">Install Grub from chroot</a></li><li>+实践</li></ol>]]></content>
    
    <summary type="html">
    
      有时我们需要调整 Linux系统 挂载点或者对 Linux系统 进行备份和恢复，我们可以通过 tar 命令来实现。
    
    </summary>
    
      <category term="Linux" scheme="https://iitii.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://iitii.github.io/tags/Linux/"/>
    
      <category term="tar" scheme="https://iitii.github.io/tags/tar/"/>
    
  </entry>
  
  <entry>
    <title>一种解决Linux无法识别并挂载外接硬盘的办法(uas)</title>
    <link href="https://iitii.github.io/2019/08/05/1/"/>
    <id>https://iitii.github.io/2019/08/05/1/</id>
    <published>2019-08-05T02:53:49.000Z</published>
    <updated>2019-08-05T05:03:03.722Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>系统参见：Ubuntu server 18.04，外接硬盘类型：绿联硬盘盒（SATA3.0 to USB3.0, 希捷500G）</p></blockquote><h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><ul><li>插上外接硬盘后，tty输出：<code>usb stat urb: status -32</code>, <em>df</em> 和 <em>lsblk</em> 都看不到外接硬盘的存在。</li></ul><h3 id="问题发现"><a href="#问题发现" class="headerlink" title="问题发现"></a>问题发现</h3><ul><li><code>tail -f kern.log</code>  </li></ul><h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><ol><li><code>lsusb -v</code> 查找挂载的USB设备，并记录 <code>idVendor idProduct</code></li></ol><ol start="2"><li>对指定USB设备禁用 <code>uas</code> 模块 </li></ol><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"options usb-storage quirks=idVendor:idProduct:u"</span> | sudo tee /etc/modprobe.d/anyname.conf</span><br><span class="line">sudo update-initramfs -u</span><br></pre></td></tr></table></figure></div><blockquote><p><code>update-initramfs -u</code> 更新 <code>initramfs</code><br>对于 <code>Arch Linux</code> 使用 <code>mkinitcpio -p linux</code> 来实现类似的操作</p></blockquote><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><p><img src="/images/Linux/USB/uas.png" alt="alt"></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"options usb-storage quirks=0x174c:0x55aa:u"</span> | sudo tee /etc/modprobe.d/ingore_nas.conf</span><br><span class="line">sudo update-initramfs -u</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure></div>]]></content>
    
    <summary type="html">
    
      一种解决Linux无法识别并挂载外接硬盘的办法，通过在指定USB设备上禁用uas模块来实现。
    
    </summary>
    
      <category term="Linux" scheme="https://iitii.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://iitii.github.io/tags/Linux/"/>
    
      <category term="mount" scheme="https://iitii.github.io/tags/mount/"/>
    
      <category term="uas" scheme="https://iitii.github.io/tags/uas/"/>
    
  </entry>
  
  <entry>
    <title>lvm简单使用以及grub2菜单不显示的解决方法</title>
    <link href="https://iitii.github.io/2019/08/04/1/"/>
    <id>https://iitii.github.io/2019/08/04/1/</id>
    <published>2019-08-04T00:43:32.000Z</published>
    <updated>2019-08-04T04:09:21.342Z</updated>
    
    <content type="html"><![CDATA[<h3 id="lvm-的简单使用"><a href="#lvm-的简单使用" class="headerlink" title="lvm 的简单使用"></a>lvm 的简单使用</h3><blockquote><p>因为lvextend扩展的是lv, df看到的是文件系统，所以调整分区后 df 和 lsblk 的结果<strong>可能</strong>不一致<br>若调整分区后 df 和 lsblk 的结果不一致，使用  <code>resize2fs -p -F /dev/part</code> 进行文件系统的调整  </p></blockquote><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@server1804:~<span class="comment"># resize2fs -p -F /dev/mapper/ubuntu--vg-ubuntu--lv</span></span><br><span class="line">resize2fs 1.44.1 (24-Mar-2018)</span><br><span class="line">Filesystem at /dev/mapper/ubuntu--vg-ubuntu--lv is mounted on /; on-line resizing required</span><br><span class="line">old_desc_blocks = 1, new_desc_blocks = 2</span><br><span class="line">The filesystem on /dev/mapper/ubuntu--vg-ubuntu--lv is now 2621440 (4k) blocks long.</span><br><span class="line"></span><br><span class="line">root@server1804:~<span class="comment">#</span></span><br></pre></td></tr></table></figure></div><h4 id="扩容"><a href="#扩容" class="headerlink" title="扩容"></a>扩容</h4><ol><li>增加<strong>到</strong>10G：<code>lvextend -L 10G /dev/ubuntu-vg/ubuntu-lv</code> </li><li>增加10G：<code>lvextend -L +10G /dev/ubuntu-vg/ubuntu-lv</code> </li></ol><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@server1804:~<span class="comment"># lvextend -L 10G /dev/ubuntu-vg/ubuntu-lv</span></span><br><span class="line">  Size of logical volume ubuntu-vg/ubuntu-lv changed from 4.00 GiB (1024 extents) to 10.00 GiB (2560 extents).</span><br><span class="line">  Logical volume ubuntu-vg/ubuntu-lv successfully resized.</span><br><span class="line">root@server1804:~<span class="comment">#</span></span><br></pre></td></tr></table></figure></div><h4 id="减少"><a href="#减少" class="headerlink" title="减少"></a>减少</h4><ol><li>减少<strong>到</strong>10G：<code>lvextend -L 10G /dev/ubuntu-vg/ubuntu-lv</code> </li><li>减少10G：<code>lvextend -L -10G /dev/ubuntu-vg/ubuntu-lv</code> </li></ol><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@server1804:~<span class="comment"># lvreduce -L -1G /dev/ubuntu-vg/ubuntu-lv</span></span><br><span class="line">  WARNING: Reducing active and open logical volume to 10.00 GiB.</span><br><span class="line">  THIS MAY DESTROY YOUR DATA (filesystem etc.)</span><br><span class="line">Do you really want to reduce ubuntu-vg/ubuntu-lv? [y/n]: y</span><br><span class="line">  Size of logical volume ubuntu-vg/ubuntu-lv changed from 11.00 GiB (2816 extents) to 10.00 GiB (2560 extents).</span><br><span class="line">  Logical volume ubuntu-vg/ubuntu-lv successfully resized.</span><br><span class="line">root@server1804:~<span class="comment">#</span></span><br></pre></td></tr></table></figure></div><h3 id="grub2-菜单不显示"><a href="#grub2-菜单不显示" class="headerlink" title="grub2 菜单不显示"></a>grub2 菜单不显示</h3><blockquote><p>若要使修改生效，必须 <strong><em>update-grub</em></strong>  </p><ol><li>保证 grub 延迟不为零</li><li>延迟等待样式不为 <strong><em>hidden</em></strong></li></ol></blockquote><ul><li>修改 <code>/etc/default/grub</code>: <code>vim /etc/default/grub</code></li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GRUB_DEFAULT=0</span><br><span class="line">GRUB_TIMEOUT_STYLE=hidden</span><br><span class="line">GRUB_TIMEOUT=10</span><br><span class="line">GRUB_DISTRIBUTOR=`lsb_release -i -s 2&gt; /dev/null || <span class="built_in">echo</span> Debian`</span><br><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=<span class="string">"debian-installer/custom-installation=/custom find_preseed=/preseed.cfg auto preseed/file=/floppy/preseed.cfg automatic-ubiquity noprompt priority=critical locale=en_US console-setup/modelcode=evdev"</span></span><br><span class="line">GRUB_CMDLINE_LINUX=<span class="string">""</span></span><br></pre></td></tr></table></figure></div><ul><li>将 <code>GRUB_TIMEOUT_STYLE=hidden</code> 修改为 <code>GRUB_TIMEOUT_STYLE=menu</code> 且 <code>GRUB_TIMEOUT</code> 不为零。</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GRUB_DEFAULT=0</span><br><span class="line">GRUB_TIMEOUT_STYLE=menu</span><br><span class="line">GRUB_TIMEOUT=10</span><br><span class="line">GRUB_DISTRIBUTOR=`lsb_release -i -s 2&gt; /dev/null || <span class="built_in">echo</span> Debian`</span><br><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=<span class="string">"debian-installer/custom-installation=/custom find_preseed=/preseed.cfg auto preseed/file=/floppy/preseed.cfg automatic-ubiquity noprompt priority=critical locale=en_US console-setup/modelcode=evdev"</span></span><br><span class="line">GRUB_CMDLINE_LINUX=<span class="string">""</span></span><br></pre></td></tr></table></figure></div>]]></content>
    
    <summary type="html">
    
      有时我们需要对于 lvm 的分区进行调整，有时 grub2 的启动页面不会显示
    
    </summary>
    
      <category term="Linux" scheme="https://iitii.github.io/categories/Linux/"/>
    
    
      <category term="grub" scheme="https://iitii.github.io/tags/grub/"/>
    
      <category term="lvm" scheme="https://iitii.github.io/tags/lvm/"/>
    
      <category term="Linux" scheme="https://iitii.github.io/tags/Linux/"/>
    
      <category term="boot" scheme="https://iitii.github.io/tags/boot/"/>
    
  </entry>
  
  <entry>
    <title>使用tar命令来实现对Linux系统挂载点的调整</title>
    <link href="https://iitii.github.io/2019/08/03/1/"/>
    <id>https://iitii.github.io/2019/08/03/1/</id>
    <published>2019-08-03T00:54:14.000Z</published>
    <updated>2019-08-05T03:58:28.120Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning">            <ol><li>本文适用于具有一定基础和动手能力的 Linux 用户, 不清楚之处还请自行百度</li><li>系统挂载点的调整具有很大风险，在操作之前还请备份重要数据先。</li></ol>          </div><h3 id="以-Ubuntu18-04-系统为例"><a href="#以-Ubuntu18-04-系统为例" class="headerlink" title="以 Ubuntu18.04 系统为例"></a>以 Ubuntu18.04 系统为例</h3><blockquote><p>系统配置</p><ul><li>OS: Ubuntu 18.04</li><li>mem: 16G</li><li>disk1: TOSHIBA 256G 2280 m.2 sata</li><li>disk2: HS-C2000Pro 1024</li><li>Display: NVIDIA GTX 1050 (cuda 已配置)</li></ul></blockquote><blockquote><p>磁盘分区表</p></blockquote><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">root@l: lsblk</span><br><span class="line">NAME                      MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda                         8:0    0  256G  0 disk</span><br><span class="line">├─sda1                      8:1    0   99M  0 part /boot/efi</span><br><span class="line">├─sda2                      8:2    0  216M  0 part</span><br><span class="line">└─sda3                      8:3    0   40G  0 part /</span><br><span class="line">sdb                         8:0    0 1024G  0 disk</span><br><span class="line">├─sdb1                      8:1    0   99M  0 part</span><br><span class="line">├─sdb2                      8:2    0  128M  0 part </span><br><span class="line">├─sdb3                      8:2    0  873G  0 part </span><br><span class="line">└─sdb4                      8:3    0  150G  0 part</span><br></pre></td></tr></table></figure></div><h3 id="更改Linux挂载点，如将-opt-挂载到-dev-sdb3-上"><a href="#更改Linux挂载点，如将-opt-挂载到-dev-sdb3-上" class="headerlink" title="更改Linux挂载点，如将 /opt 挂载到 /dev/sdb3 上"></a>更改Linux挂载点，如将 /opt 挂载到 /dev/sdb3 上</h3><ol><li>修改 <code>/etc/fstab</code>，将里面所有的通过设备名称来 mount 的分区全部修改为通过 UUID 来挂载（这样子不会导致因为系统分区调整而导致系统启动失败）。<code>sudo update-grub</code></li><li>reboot 进入单人维护模式</li><li>格式化分区为 ext4，格式化为与根目录系统一样的分区</li><li>挂载分区</li><li>压缩文件</li><li>解压文件</li><li>修改文件夹名称</li><li>修改 <code>/etc/fstab</code></li><li>更新启动信息并重启</li><li>正常启动后删除中间文件夹，如果启动异常或安装在备份目录里面的软件失效了，到第一步重新开始。</li></ol><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">root@l: lsblk <span class="comment">#查看分区信息</span></span><br><span class="line">root@l: mkdir /opt1</span><br><span class="line">root@l: mkfs.ext4 /dev/sdb3 <span class="comment"># 格式化分区为 ext4，格式化为与根目录系统一样的分区</span></span><br><span class="line">root@l: mount /dev/sdb3 /opt1 <span class="comment"># 挂载</span></span><br><span class="line">root@l: tar -cvf /opt1/opt.tar /opt <span class="comment"># 备份</span></span><br><span class="line">root@l: <span class="built_in">cd</span> /opt1</span><br><span class="line">root@l: tar -xvf opt.tar <span class="comment"># 解压</span></span><br><span class="line">root@l: mv /opt /opt2 &amp;&amp; mv /opt1 /opt <span class="comment"># 修改文件夹名称</span></span><br><span class="line">root@l: blkid <span class="comment">#查看分区信息</span></span><br><span class="line"><span class="comment"># 修改启动信息</span></span><br><span class="line">root@l: <span class="built_in">echo</span> <span class="string">"`blkid | grep sda3 | awk '&#123;printf <span class="variable">$2</span>&#125;' | sed 's/"</span>//g<span class="string">'` /opt ext4 defaults 0 0" &gt;&gt; /etc/fstab # 将 grep 和 awk 里面参数酌情修改   </span></span><br><span class="line"><span class="string"># 检查启动信息  </span></span><br><span class="line"><span class="string">root@l: vim  /etc/fstab  </span></span><br><span class="line"><span class="string"># 更新启动信息并重启  </span></span><br><span class="line"><span class="string">root@l: update-grub &amp;&amp; reboot  </span></span><br><span class="line"><span class="string">root@l: rm -rf /opt2</span></span><br></pre></td></tr></table></figure></div>]]></content>
    
    <summary type="html">
    
      有时因为根目录空间不够或者一些其他的原因想对系统挂载点做出修改，那我们应该如何做？
    
    </summary>
    
      <category term="Linux" scheme="https://iitii.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://iitii.github.io/tags/Linux/"/>
    
      <category term="tar" scheme="https://iitii.github.io/tags/tar/"/>
    
  </entry>
  
  <entry>
    <title>UFW 的简单使用</title>
    <link href="https://iitii.github.io/2019/08/02/1/"/>
    <id>https://iitii.github.io/2019/08/02/1/</id>
    <published>2019-08-02T04:28:38.000Z</published>
    <updated>2019-08-02T05:50:04.102Z</updated>
    
    <content type="html"><![CDATA[<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><ul><li>Ubuntu 的默认防火墙配置工具是 <code>ufw</code>，是为了简化 <code>iptables</code>防火墙配置而开发， <code>ufw</code>提供了一种友好的方式来创建基于IPv4或IPv6主机的防火墙。一般情况下系统默认禁用UFW。</li><li><em>Gufw</em> 是一个 ufw 的图形界面版本。</li></ul><h3 id="基本的语法和一些示例"><a href="#基本的语法和一些示例" class="headerlink" title="基本的语法和一些示例"></a>基本的语法和一些示例</h3><blockquote><p>默认规则适用于普通家庭用户  </p><ul><li>当您打开UFW时，它使用一组默认规则（配置文件），所有“传入”都被拒绝，然后用户再定义一些例外的端口或应用，就差不多了</li></ul></blockquote><h4 id="启用和禁用"><a href="#启用和禁用" class="headerlink" title="启用和禁用"></a>启用和禁用</h4><h5 id="启用UFW"><a href="#启用UFW" class="headerlink" title="启用UFW"></a>启用UFW</h5><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw <span class="built_in">enable</span></span><br></pre></td></tr></table></figure></div><h5 id="检查UFW的状态"><a href="#检查UFW的状态" class="headerlink" title="检查UFW的状态"></a>检查UFW的状态</h5> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status</span><br></pre></td></tr></table></figure></div><ul><li>请注意，默认情况下，deny正在应用于传入。有一些例外，可以在此命令的输出中找到: <code>sudo ufw show raw</code></li><li>您也可以通过读取 /etc/ufw 中的规则文件（后缀名：.rules），来查看防火墙规则。</li></ul><h5 id="禁用UFW"><a href="#禁用UFW" class="headerlink" title="禁用UFW"></a>禁用UFW</h5> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw <span class="built_in">disable</span></span><br></pre></td></tr></table></figure></div><h4 id="允许和拒绝（特定规则）"><a href="#允许和拒绝（特定规则）" class="headerlink" title="允许和拒绝（特定规则）"></a>允许和拒绝（特定规则）</h4><h5 id="允许"><a href="#允许" class="headerlink" title="允许"></a>允许</h5> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow &lt;port&gt;/&lt;optional: protocol&gt;</span><br></pre></td></tr></table></figure></div><h6 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h6><ol><li><p>允许在端口53上传入tcp和udp数据包</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 53</span><br></pre></td></tr></table></figure></div></li><li><p>允许端口53上的传入tcp数据包</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 53/tcp</span><br></pre></td></tr></table></figure></div></li><li><p>允许端口53上的传入udp数据包</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 53/udp</span><br></pre></td></tr></table></figure></div></li></ol><h5 id="拒绝"><a href="#拒绝" class="headerlink" title="拒绝"></a>拒绝</h5> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny &lt;port&gt;/&lt;optional: protocol&gt;</span><br></pre></td></tr></table></figure></div><h6 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h6><ol><li><p>拒绝端口53上的tcp和udp数据包</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny 53</span><br></pre></td></tr></table></figure></div></li><li><p>拒绝端口53上的传入tcp数据包</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny 53/tcp</span><br></pre></td></tr></table></figure></div></li><li><p>拒绝端口53上传入的udp数据包</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny 53/udp</span><br></pre></td></tr></table></figure></div></li></ol><h4 id="删除现有规则"><a href="#删除现有规则" class="headerlink" title="删除现有规则"></a>删除现有规则</h4><ul><li>要删除规则，只需在原始规则前加上删除。</li><li><p>例如，如果原始规则是：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw deny 80/tcp</span><br></pre></td></tr></table></figure></div></li><li><p>用这一条命令来删除它</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw delete deny 80/tcp</span><br></pre></td></tr></table></figure></div></li></ul><h4 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h4><p>您也可以允许或拒绝服务名称，因为ufw会从从 /etc/services读取服务名称。</p><ul><li>查看所有服务<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less /etc/services</span><br></pre></td></tr></table></figure></div></li></ul><h5 id="按服务名称允许"><a href="#按服务名称允许" class="headerlink" title="按服务名称允许"></a>按服务名称允许</h5> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow &lt;service name&gt;</span><br></pre></td></tr></table></figure></div><h6 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h6><ol><li>允许ssh<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow ssh</span><br></pre></td></tr></table></figure></div></li></ol><h5 id="按服务名称拒绝"><a href="#按服务名称拒绝" class="headerlink" title="按服务名称拒绝"></a>按服务名称拒绝</h5> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny &lt;service name&gt;</span><br></pre></td></tr></table></figure></div><h6 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h6><ol><li>拒绝ssh<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny ssh</span><br></pre></td></tr></table></figure></div></li></ol><h4 id="Status"><a href="#Status" class="headerlink" title="Status"></a>Status</h4><ul><li><p>检查ufw的状态将告诉您是否启用了ufw，并列出了应用于iptables的ufw规则。</p></li><li><p>查看状态</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ubuntu@ubuntu<span class="comment"># sudo ufw status</span></span><br><span class="line">Firewall loaded</span><br><span class="line"></span><br><span class="line">To                         Action  From</span><br><span class="line">--                         ------  ----</span><br><span class="line">22:tcp                     DENY    192.168.0.1</span><br><span class="line">22:udp                     DENY    192.168.0.1</span><br><span class="line">22:tcp                     DENY    192.168.0.7</span><br><span class="line">22:udp                     DENY    192.168.0.7</span><br><span class="line">22:tcp                     ALLOW   192.168.0.0/24</span><br><span class="line">22:udp                     ALLOW   192.168.0.0/24</span><br></pre></td></tr></table></figure></div></li><li><p>如果未启用ufw，则输出将为</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status</span><br><span class="line">Status: inactive</span><br></pre></td></tr></table></figure></div></li></ul><h4 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h4><ol><li><p>要启用日志记录，请使用: <code>sudo ufw logging on</code></p></li><li><p>要禁用日志记录，请使用：<code>sudo ufw logging off</code></p></li></ol><h3 id="高级语法"><a href="#高级语法" class="headerlink" title="高级语法"></a>高级语法</h3><blockquote><p>您还可以使用更全面的语法，指定源和目标地址，端口和协议。</p></blockquote><h4 id="允许访问"><a href="#允许访问" class="headerlink" title="允许访问"></a>允许访问</h4><h5 id="按特定IP允许："><a href="#按特定IP允许：" class="headerlink" title="按特定IP允许："></a>按特定IP允许：</h5><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from &lt;ip address&gt;</span><br></pre></td></tr></table></figure></div><h6 id="示例-4"><a href="#示例-4" class="headerlink" title="示例"></a>示例</h6><ol><li><p>允许来自207.46.232.182的数据包</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from 207.46.232.182</span><br></pre></td></tr></table></figure></div></li><li><p>允许子网</p><blockquote><p>你也许会使用网关来配置</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from 192.168.1.0/24</span><br></pre></td></tr></table></figure></div></blockquote></li></ol><h4 id="允许特定端口，IP地址"><a href="#允许特定端口，IP地址" class="headerlink" title="允许特定端口，IP地址"></a>允许特定端口，IP地址</h4> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from &lt;target&gt; to &lt;destination&gt; port &lt;port number&gt;</span><br></pre></td></tr></table></figure></div><h5 id="示例-5"><a href="#示例-5" class="headerlink" title="示例"></a>示例</h5><ol><li>允许使用TCP访问端口22的IP地址192.168.0.4<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from 192.168.0.4 to any port 22</span><br></pre></td></tr></table></figure></div></li></ol><h4 id="允许特定端口，IP地址和协议"><a href="#允许特定端口，IP地址和协议" class="headerlink" title="允许特定端口，IP地址和协议"></a>允许特定端口，IP地址和协议</h4> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from &lt;target&gt; to &lt;destination&gt; port &lt;port number&gt; proto &lt;protocol name&gt;</span><br></pre></td></tr></table></figure></div><h5 id="示例-6"><a href="#示例-6" class="headerlink" title="示例"></a>示例</h5><ol><li>允许使用 <strong><em>TCP</em></strong> 访问端口22的IP地址192.168.0.4<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow from 192.168.0.4 to any port 22 proto tcp</span><br></pre></td></tr></table></figure></div></li></ol><h4 id="禁用-ping"><a href="#禁用-ping" class="headerlink" title="禁用 ping"></a>禁用 ping</h4><ul><li>默认允许ping，如果要禁用 ping， 您可以在 <code>/etc/ufw/before.rules</code> 里面删除以下行</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ok icmp codes</span></span><br><span class="line">-A ufw-before-input -p icmp --icmp-type destination-unreachable -j ACCEPT</span><br><span class="line">-A ufw-before-input -p icmp --icmp-type <span class="built_in">source</span>-quench -j ACCEPT</span><br><span class="line">-A ufw-before-input -p icmp --icmp-type time-exceeded -j ACCEPT</span><br><span class="line">-A ufw-before-input -p icmp --icmp-type parameter-problem -j ACCEPT</span><br><span class="line">-A ufw-before-input -p icmp --icmp-type <span class="built_in">echo</span>-request -j ACCEPT</span><br></pre></td></tr></table></figure></div><p>或者把 <em>ACCEPT</em> 修改为 <em>DROP</em></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ok icmp codes</span></span><br><span class="line">-A ufw-before-input -p icmp --icmp-type destination-unreachable -j DROP</span><br><span class="line">-A ufw-before-input -p icmp --icmp-type <span class="built_in">source</span>-quench -j DROP</span><br><span class="line">-A ufw-before-input -p icmp --icmp-type time-exceeded -j DROP</span><br><span class="line">-A ufw-before-input -p icmp --icmp-type parameter-problem -j DROP</span><br><span class="line">-A ufw-before-input -p icmp --icmp-type <span class="built_in">echo</span>-request -j DROP</span><br></pre></td></tr></table></figure></div><h4 id="拒绝访问"><a href="#拒绝访问" class="headerlink" title="拒绝访问"></a>拒绝访问</h4><h5 id="按特定IP拒绝"><a href="#按特定IP拒绝" class="headerlink" title="按特定IP拒绝"></a>按特定IP拒绝</h5><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny from &lt;ip address&gt;</span><br></pre></td></tr></table></figure></div><h6 id="示例-7"><a href="#示例-7" class="headerlink" title="示例"></a>示例</h6><ol><li>阻止来自207.46.232.182的数据包：<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny from 207.46.232.182</span><br></pre></td></tr></table></figure></div></li></ol><h5 id="通过特定端口和IP地址拒绝"><a href="#通过特定端口和IP地址拒绝" class="headerlink" title="通过特定端口和IP地址拒绝"></a>通过特定端口和IP地址拒绝</h5> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny from &lt;ip address&gt; to &lt;protocol&gt; port &lt;port number&gt;</span><br></pre></td></tr></table></figure></div><h6 id="示例-8"><a href="#示例-8" class="headerlink" title="示例"></a>示例</h6><ol><li>拒绝所有协议的端口22的IP地址192.168.0.1访问<div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny from 192.168.0.1 to any port 22</span><br></pre></td></tr></table></figure></div></li></ol><h4 id="使用规则的编号进行管理"><a href="#使用规则的编号进行管理" class="headerlink" title="使用规则的编号进行管理"></a>使用规则的编号进行管理</h4><h5 id="显示规则的顺序和ID号"><a href="#显示规则的顺序和ID号" class="headerlink" title="显示规则的顺序和ID号"></a>显示规则的顺序和ID号</h5> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status numbered</span><br></pre></td></tr></table></figure></div><h4 id="编辑编号规则"><a href="#编辑编号规则" class="headerlink" title="编辑编号规则"></a>编辑编号规则</h4><h5 id="删除编号规则"><a href="#删除编号规则" class="headerlink" title="删除编号规则"></a>删除编号规则</h5><ul><li><p>然后，您可以使用该号码删除规则。这将删除第一个规则，规则将向上移动以填充列表。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw delete 1</span><br></pre></td></tr></table></figure></div></li></ul><h5 id="插入编号规则"><a href="#插入编号规则" class="headerlink" title="插入编号规则"></a>插入编号规则</h5> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw insert 1 allow from &lt;ip address&gt;</span><br></pre></td></tr></table></figure></div><h6 id="高级示例"><a href="#高级示例" class="headerlink" title="高级示例"></a>高级示例</h6><ol><li><p>阻止从192.168.0.1和192.168.0.7访问端口22，但允许所有其他192.168.0.x IP使用tcp访问端口22</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw deny from 192.168.0.1 to any port 22</span><br><span class="line">sudo ufw deny from 192.168.0.7 to any port 22</span><br><span class="line">sudo ufw allow from 192.168.0.0/24 to any port 22 proto tcp</span><br></pre></td></tr></table></figure></div></li></ol><blockquote><p>这将特定规则放在第一位，将通用第二位放在第二位。一旦规则匹配，其他规则将不会被匹配. 因此您必须首先列出特定规则。 ‘’’随着规则的变化，您可能需要删除旧规则，以确保按照正确的顺序放置新规则。</p></blockquote><ol start="2"><li><p>阻止访问端口22到192.168.0.3以及192.168.0.1和192.168.0.7</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw delete allow from 192.168.0.0/24 to any port 22</span><br><span class="line">sudo ufw status</span><br><span class="line">Firewall loaded</span><br><span class="line"></span><br><span class="line">To                         Action  From</span><br><span class="line">--                         ------  ----</span><br><span class="line">22:tcp                     DENY    192.168.0.1</span><br><span class="line">22:udp                     DENY    192.168.0.1</span><br><span class="line">22:tcp                     DENY    192.168.0.7</span><br><span class="line">22:udp                     DENY    192.168.0.7</span><br><span class="line"></span><br><span class="line">sudo ufw deny 192.168.0.3 to any port 22</span><br><span class="line">sudo ufw allow 192.168.0.0/24 to any port 22 proto tcp</span><br><span class="line">sudo ufw status</span><br><span class="line"></span><br><span class="line">Firewall loaded</span><br><span class="line"></span><br><span class="line">To                         Action  From</span><br><span class="line">--                         ------  ----</span><br><span class="line">22:tcp                     DENY    192.168.0.1</span><br><span class="line">22:udp                     DENY    192.168.0.1</span><br><span class="line">22:tcp                     DENY    192.168.0.7</span><br><span class="line">22:udp                     DENY    192.168.0.7</span><br><span class="line">22:tcp                     DENY    192.168.0.3</span><br><span class="line">22:udp                     DENY    192.168.0.3</span><br><span class="line">22:tcp                     ALLOW   192.168.0.0/24</span><br></pre></td></tr></table></figure></div></li></ol><blockquote><p>如果你只是添加拒绝规则，那么 allow 的优先级就会超过它并被应用.</p></blockquote><h3 id="解释日志条目"><a href="#解释日志条目" class="headerlink" title="解释日志条目"></a>解释日志条目</h3><h4 id="根据对报文的回复"><a href="#根据对报文的回复" class="headerlink" title="根据对报文的回复"></a>根据对报文的回复</h4><blockquote><p>SPT和DPT值以及SRC和DST值通常是分析防火墙日志时要关注的值。</p></blockquote><h5 id="伪日志条目"><a href="#伪日志条目" class="headerlink" title="伪日志条目"></a>伪日志条目</h5> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Feb  4 23:33:37 hostname kernel: [ 3529.289825] [UFW BLOCK] IN=eth0 OUT= MAC=00:11:22:33:44:55:66:77:88:99:aa:bb:cc:dd SRC=444.333.222.111 DST=111.222.333.444 LEN=103 TOS=0x00 PREC=0x00 TTL=52 ID=0 DF PROTO=UDP SPT=53 DPT=36427 LEN=83</span><br></pre></td></tr></table></figure></div><ul><li>Date:查看日期和时间是一种很好的做法。如果事情发生故障或时间块丢失，那么攻击者可能会破坏您的日志。</li><li><p>hostname:服务器的主机名</p></li><li><p>uptime:正常运行的时间</p></li><li><p>Logged Event:记录事件的简短描述;例如[UFW BLOCK]</p></li><li><p>IN:如果有，则事件是传入事件</p></li><li><p>OUT:如果有，则事件是传出事件。</p></li><li><p>MAC: 这提供了目标MAC，源MAC和EtherType字段的14字节组合，遵循以太网II报头中的顺序。见 <a href="http://en.wikipedia.org/wiki/Ethernet_frame" target="_blank" rel="noopener">以太网帧</a> 和 <a href="http://en.wikipedia.org/wiki/EtherType" target="_blank" rel="noopener">EtherType</a>  了解更多信息。</p></li></ul><ul><li>[UFW BLOCK]：这是记录事件的描述开始的位置。在此例中，它表示阻止了连接。</li><li>IN：如果它包含一个值，那么代表该事件是传入事件</li><li>OUT：如果它包含一个值，那么代表事件是传出事件 </li><li>MAC：目的地和源 MAC 地址的组合</li><li>SRC：包源的 IP</li><li>DST：包目的地的 IP</li><li>LEN：数据包长度</li><li>TTL：数据包 TTL，或称为 time to live。 在找到目的地之前，它将在路由器之间跳跃，直到它过期。</li><li>PROTO：数据包的协议</li><li>SPT：包的源端口</li><li>DPT：包的目标端口</li><li>WINDOW：发送方可以接收的数据包的大小</li><li>SYN URGP：指示是否需要三次握手。 0 表示不需要。</li></ul><h3 id="参见"><a href="#参见" class="headerlink" title="参见"></a>参见</h3><ol><li><a href="https://help.ubuntu.com/community/UFW" target="_blank" rel="noopener">UFW</a></li></ol>]]></content>
    
    <summary type="html">
    
      简单 Linux 防火墙 UFW 的简单使用
    
    </summary>
    
      <category term="Ubuntu" scheme="https://iitii.github.io/categories/Ubuntu/"/>
    
    
      <category term="Ubuntu" scheme="https://iitii.github.io/tags/Ubuntu/"/>
    
      <category term="UFW" scheme="https://iitii.github.io/tags/UFW/"/>
    
      <category term="firewall" scheme="https://iitii.github.io/tags/firewall/"/>
    
  </entry>
  
  <entry>
    <title>关于IDEA的JDK错误的解决方法</title>
    <link href="https://iitii.github.io/2019/07/18/1/"/>
    <id>https://iitii.github.io/2019/07/18/1/</id>
    <published>2019-07-18T08:42:43.000Z</published>
    <updated>2019-07-18T10:37:34.861Z</updated>
    
    <content type="html"><![CDATA[<h3 id="软件要求-已安装-Java-8-及以上版本"><a href="#软件要求-已安装-Java-8-及以上版本" class="headerlink" title="软件要求: 已安装 Java 8 及以上版本"></a>软件要求: 已安装 Java 8 及以上版本</h3><ul><li>Java 8:<br><img src="/images/IDEA/jdkError/java8.png" alt="alt"></li><li>File ? Project Structure ?  Settings… ?</li><li><img src="/images/IDEA/jdkError/file.png" alt="alt"><h3 id="开启-Lambdas-语法支持"><a href="#开启-Lambdas-语法支持" class="headerlink" title="开启 Lambdas 语法支持"></a>开启 Lambdas 语法支持</h3></li></ul><ol><li>找到以下内容：<strong>File -&gt; Project Structure -&gt; Project -&gt; Project language level -&gt; 8 - Lambdas, type annotations etc.</strong></li><li>点击 OK 按钮</li></ol><p><img src="/images/IDEA/jdkError/lambdas.png" alt="alt"></p><h3 id="ERROR-Override-is-not-allowed-when-implementing-interface-method"><a href="#ERROR-Override-is-not-allowed-when-implementing-interface-method" class="headerlink" title="ERROR: @Override is not allowed when implementing interface method"></a>ERROR: @Override is not allowed when implementing interface method</h3><p><img src="/images/IDEA/jdkError/override.png" alt="alt"></p><ol><li>找到以下内容：<strong>File -&gt; Project Structure -&gt; Modules -&gt; Language level</strong></li><li>至少选择 <strong>6</strong> 以上版本，推荐 <strong>8</strong>.</li><li>点击 OK 按钮</li></ol><p><img src="/images/IDEA/jdkError/overrideSulo.png" alt="alt"></p><h3 id="Error-java-Compilation-failed-internal-java-compiler-error"><a href="#Error-java-Compilation-failed-internal-java-compiler-error" class="headerlink" title="Error:java: Compilation failed: internal java compiler error"></a>Error:java: Compilation failed: internal java compiler error</h3><p><img src="/images/IDEA/jdkError/internalCompilerError.png" alt="alt"></p><ol><li>找到以下内容：<strong>File -&gt; Settings… -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler -&gt; Project bytecode version &amp; Target bytecode version</strong></li><li>选择对应版本</li><li>如上图的话，则需要选择 <strong>8</strong></li><li>点击 OK 按钮</li></ol><p><img src="/images/IDEA/jdkError/internalCompilerSolu.png" alt="alt"></p>]]></content>
    
    <summary type="html">
    
      本文旨在解决一些 Java 常见的错误
    
    </summary>
    
      <category term="program" scheme="https://iitii.github.io/categories/program/"/>
    
    
      <category term="IDEA" scheme="https://iitii.github.io/tags/IDEA/"/>
    
      <category term="Jdk" scheme="https://iitii.github.io/tags/Jdk/"/>
    
      <category term="Java" scheme="https://iitii.github.io/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Linux 文件目录参考 (FHS)</title>
    <link href="https://iitii.github.io/2019/07/10/1/"/>
    <id>https://iitii.github.io/2019/07/10/1/</id>
    <published>2019-07-09T16:28:41.000Z</published>
    <updated>2019-07-10T07:40:29.581Z</updated>
    
    <content type="html"><![CDATA[<h3 id="目录"><a href="#目录" class="headerlink" title="/ 目录"></a><code>/</code> 目录</h3><blockquote><p>系统根目录<br>一些Linux系统如GoboLinux和Syllable Server使用了和FHS完全不同的文件系统层次组织方法  </p></blockquote><details><br><summary>/</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">/ <span class="comment">#第一层次结构 的根、 整个文件系统层次结构的根目录</span></span><br><span class="line">├── bin <span class="comment">#基本命令所需的二进制文件</span></span><br><span class="line">├── boot <span class="comment">#引导程序文件，例如： kernel、initrd；时常是一个单独的分区</span></span><br><span class="line">├── cdrom <span class="comment">#光盘挂载点</span></span><br><span class="line">├── dev <span class="comment">#设备文件</span></span><br><span class="line">├── etc <span class="comment">#设备主机独有的系统配置文件</span></span><br><span class="line">├── home <span class="comment">#普通用户主文件夹的父目录</span></span><br><span class="line">├── initrd.img -&gt; boot/initrd.img-4.15.0-54-generic <span class="comment">#系统内核</span></span><br><span class="line">├── initrd.img.old -&gt; boot/initrd.img-4.15.0-52-generic <span class="comment">#系统内核</span></span><br><span class="line">├── lib <span class="comment">#必要的共享库和内核模块 (32 bit)</span></span><br><span class="line">├── lib64 <span class="comment">#备用格式基本共享库（可选）</span></span><br><span class="line">├── lost+found</span><br><span class="line">├── media <span class="comment">#可移动设备的挂载点</span></span><br><span class="line">├── mnt <span class="comment">#临时安装文件系统的挂载点</span></span><br><span class="line">├── opt <span class="comment">#可选的应用软件包</span></span><br><span class="line">├── proc <span class="comment">#虚拟文件系统，将内核与进程状态归档为文本文件。例如：uptime、 network。在Linux中，对应Procfs格式挂载</span></span><br><span class="line">├── root <span class="comment">#root 用户目录</span></span><br><span class="line">├── run <span class="comment">#代替/var/run目录</span></span><br><span class="line">├── sbin <span class="comment">#系统必要的二进制文件</span></span><br><span class="line">├── snap <span class="comment">#snap 包的安装目录</span></span><br><span class="line">├── srv <span class="comment">#系统服务的文件</span></span><br><span class="line">├── sys <span class="comment">#虚拟文件系统(sysfs，类似于 /proc，一个procfs)，它存储且允许修改连接到系统的设备，然而许多传统UNIX和类Unix操作系统使用/sys作为内核代码树的符号链接</span></span><br><span class="line">├── tmp <span class="comment">#交换文件</span></span><br><span class="line">├── usr <span class="comment">#二级层次结构</span></span><br><span class="line">├── var <span class="comment">#可变数据----在正常运行的系统中其内容不断变化的文件，如日志，脱机文件和临时电子邮件文件。有时是一个单独的分区</span></span><br><span class="line">│   └──run <span class="comment">#自最后一次启动以来运行中的系统的信息，例如：当前登录的用户和运行中的守护进程。现已经被/run代替</span></span><br><span class="line">├── vmlinuz -&gt; boot/vmlinuz-4.15.0-54-generic <span class="comment">#系统内核</span></span><br><span class="line">└── vmlinuz.old -&gt; boot/vmlinuz-4.15.0-52-generic <span class="comment">#系统内核</span></span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="bin-目录"><a href="#bin-目录" class="headerlink" title="/bin 目录"></a><code>/bin</code> 目录</h3><blockquote><p>必要的用户命令二进制文件的存放位置（可以被所有用户使用 ）</p></blockquote><details><br><summary>/bin</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── bash</span><br><span class="line">├── brltty</span><br><span class="line">├── btrfs</span><br><span class="line">├── btrfsck -&gt; btrfs</span><br><span class="line">├── btrfs-debug-tree</span><br><span class="line">├── btrfs-find-root</span><br><span class="line">├── btrfs-image</span><br><span class="line">├── btrfs-map-logical</span><br><span class="line">├── btrfs-select-super</span><br><span class="line">├── btrfstune</span><br><span class="line">├── btrfs-zero-log</span><br><span class="line">├── bunzip2</span><br><span class="line">├── busybox</span><br><span class="line">├── bzcat</span><br><span class="line">├── bzcmp -&gt; bzdiff</span><br><span class="line">├── bzdiff</span><br><span class="line">├── bzegrep -&gt; bzgrep</span><br><span class="line">├── bzexe</span><br><span class="line">├── bzfgrep -&gt; bzgrep</span><br><span class="line">├── bzgrep</span><br><span class="line">├── bzip2</span><br><span class="line">├── bzip2recover</span><br><span class="line">├── bzless -&gt; bzmore</span><br><span class="line">├── bzmore</span><br><span class="line">├── cat</span><br><span class="line">├── chacl</span><br><span class="line">├── chgrp</span><br><span class="line">├── chmod</span><br><span class="line">├── chown</span><br><span class="line">├── chvt</span><br><span class="line">├── cp</span><br><span class="line">├── cpio</span><br><span class="line">├── dash</span><br><span class="line">├── date</span><br><span class="line">├── dd</span><br><span class="line">├── df</span><br><span class="line">├── dir</span><br><span class="line">├── dmesg</span><br><span class="line">├── dnsdomainname -&gt; hostname</span><br><span class="line">├── domainname -&gt; hostname</span><br><span class="line">├── dumpkeys</span><br><span class="line">├── <span class="built_in">echo</span></span><br><span class="line">├── ed</span><br><span class="line">├── efibootdump</span><br><span class="line">├── efibootmgr</span><br><span class="line">├── egrep</span><br><span class="line">├── <span class="literal">false</span></span><br><span class="line">├── fgconsole</span><br><span class="line">├── fgrep</span><br><span class="line">├── findmnt</span><br><span class="line">├── fsck.btrfs</span><br><span class="line">├── fuser</span><br><span class="line">├── fusermount</span><br><span class="line">├── getfacl</span><br><span class="line">├── grep</span><br><span class="line">├── gunzip</span><br><span class="line">├── gzexe</span><br><span class="line">├── gzip</span><br><span class="line">├── hciconfig</span><br><span class="line">├── hostname</span><br><span class="line">├── ip</span><br><span class="line">├── journalctl</span><br><span class="line">├── kbd_mode</span><br><span class="line">├── keyctl</span><br><span class="line">├── <span class="built_in">kill</span></span><br><span class="line">├── kmod</span><br><span class="line">├── less</span><br><span class="line">├── lessecho</span><br><span class="line">├── lessfile -&gt; lesspipe</span><br><span class="line">├── lesskey</span><br><span class="line">├── lesspipe</span><br><span class="line">├── ln</span><br><span class="line">├── loadkeys</span><br><span class="line">├── login</span><br><span class="line">├── loginctl</span><br><span class="line">├── lowntfs-3g</span><br><span class="line">├── ls</span><br><span class="line">├── lsblk</span><br><span class="line">├── lsmod -&gt; kmod</span><br><span class="line">├── mkdir</span><br><span class="line">├── mkfs.btrfs</span><br><span class="line">├── mknod</span><br><span class="line">├── mktemp</span><br><span class="line">├── more</span><br><span class="line">├── mount</span><br><span class="line">├── mountpoint</span><br><span class="line">├── mt -&gt; /etc/alternatives/mt</span><br><span class="line">├── mt-gnu</span><br><span class="line">├── mv</span><br><span class="line">├── nano</span><br><span class="line">├── nc -&gt; /etc/alternatives/nc</span><br><span class="line">├── nc.openbsd</span><br><span class="line">├── netcat -&gt; /etc/alternatives/netcat</span><br><span class="line">├── netstat</span><br><span class="line">├── networkctl</span><br><span class="line">├── nisdomainname -&gt; hostname</span><br><span class="line">├── ntfs-3g</span><br><span class="line">├── ntfs-3g.probe</span><br><span class="line">├── ntfscat</span><br><span class="line">├── ntfscluster</span><br><span class="line">├── ntfscmp</span><br><span class="line">├── ntfsfallocate</span><br><span class="line">├── ntfsfix</span><br><span class="line">├── ntfsinfo</span><br><span class="line">├── ntfsls</span><br><span class="line">├── ntfsmove</span><br><span class="line">├── ntfsrecover</span><br><span class="line">├── ntfssecaudit</span><br><span class="line">├── ntfstruncate</span><br><span class="line">├── ntfsusermap</span><br><span class="line">├── ntfswipe</span><br><span class="line">├── open -&gt; openvt</span><br><span class="line">├── openvt</span><br><span class="line">├── pidof -&gt; /sbin/killall5</span><br><span class="line">├── ping</span><br><span class="line">├── ping4 -&gt; ping</span><br><span class="line">├── ping6 -&gt; ping</span><br><span class="line">├── plymouth</span><br><span class="line">├── ps</span><br><span class="line">├── <span class="built_in">pwd</span></span><br><span class="line">├── rbash -&gt; bash</span><br><span class="line">├── readlink</span><br><span class="line">├── red</span><br><span class="line">├── rm</span><br><span class="line">├── rmdir</span><br><span class="line">├── rnano -&gt; nano</span><br><span class="line">├── run-parts</span><br><span class="line">├── rzsh -&gt; zsh</span><br><span class="line">├── sed</span><br><span class="line">├── setfacl</span><br><span class="line">├── setfont</span><br><span class="line">├── setupcon</span><br><span class="line">├── sh -&gt; dash</span><br><span class="line">├── sh.distrib -&gt; dash</span><br><span class="line">├── sleep</span><br><span class="line">├── ss</span><br><span class="line">├── static-sh -&gt; busybox</span><br><span class="line">├── stty</span><br><span class="line">├── su</span><br><span class="line">├── sync</span><br><span class="line">├── systemctl</span><br><span class="line">├── systemd -&gt; /lib/systemd/systemd</span><br><span class="line">├── systemd-ask-password</span><br><span class="line">├── systemd-escape</span><br><span class="line">├── systemd-hwdb</span><br><span class="line">├── systemd-inhibit</span><br><span class="line">├── systemd-machine-id-setup</span><br><span class="line">├── systemd-notify</span><br><span class="line">├── systemd-sysusers</span><br><span class="line">├── systemd-tmpfiles</span><br><span class="line">├── systemd-tty-ask-password-agent</span><br><span class="line">├── tar</span><br><span class="line">├── tempfile</span><br><span class="line">├── touch</span><br><span class="line">├── <span class="literal">true</span></span><br><span class="line">├── udevadm</span><br><span class="line">├── ulockmgr_server</span><br><span class="line">├── umount</span><br><span class="line">├── uname</span><br><span class="line">├── uncompress</span><br><span class="line">├── unicode_start</span><br><span class="line">├── vdir</span><br><span class="line">├── wdctl</span><br><span class="line">├── <span class="built_in">which</span></span><br><span class="line">├── whiptail</span><br><span class="line">├── ypdomainname -&gt; hostname</span><br><span class="line">├── zcat</span><br><span class="line">├── zcmp</span><br><span class="line">├── zdiff</span><br><span class="line">├── zegrep</span><br><span class="line">├── zfgrep</span><br><span class="line">├── zforce</span><br><span class="line">├── zgrep</span><br><span class="line">├── zless</span><br><span class="line">├── zmore</span><br><span class="line">├── znew</span><br><span class="line">├── zsh</span><br><span class="line">└── zsh5</span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="boot-目录"><a href="#boot-目录" class="headerlink" title="/boot 目录"></a><code>/boot</code> 目录</h3><blockquote><p>操作系统内核必须存放在 <code>/</code> 或者 <code>/boot</code> 目录下面</p></blockquote><details><br><summary>/boot</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/boot</span><br><span class="line">├── config-4.15.0-52-generic</span><br><span class="line">├── config-4.15.0-54-generic</span><br><span class="line">├── efi</span><br><span class="line">├── grub</span><br><span class="line">├── initrd.img-4.15.0-52-generic</span><br><span class="line">├── initrd.img-4.15.0-54-generic</span><br><span class="line">├── memtest86+.bin</span><br><span class="line">├── memtest86+.elf</span><br><span class="line">├── memtest86+_multiboot.bin</span><br><span class="line">├── System.map-4.15.0-52-generic</span><br><span class="line">├── System.map-4.15.0-54-generic</span><br><span class="line">├── vmlinuz-4.15.0-52-generic</span><br><span class="line">└── vmlinuz-4.15.0-54-generic</span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="dev-目录"><a href="#dev-目录" class="headerlink" title="/dev 目录"></a><code>/dev</code> 目录</h3><blockquote><p>用于存放特殊文件或者设备文件的地方  </p><ul><li>如果在有设备需要在 <code>/dev</code> 目录下面手动创建，<code>/dev</code> 目录下面必须要有 <code>MAXKEDEV</code> 这个命令才能去创建它所需要的设备。  </li><li>同时对于任何本地设备，它可能也会包含在一个名为 <code>MAKEDEV.local</code> 的文件里面。  </li><li>如果需要，<code>MAKEDEV</code> 必须按规定为系统创建任何系统可以找到的设备，不仅仅只是已进行了安装的设备。  </li></ul></blockquote><details><br><summary>/dev</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line">/dev</span><br><span class="line">├── acpi_thermal_rel</span><br><span class="line">├── autofs</span><br><span class="line">├── block</span><br><span class="line">├── bsg</span><br><span class="line">├── btrfs-control</span><br><span class="line">├── bus</span><br><span class="line">├── cdrom -&gt; sr0</span><br><span class="line">├── char</span><br><span class="line">├── console</span><br><span class="line">├── core -&gt; /proc/kcore</span><br><span class="line">├── cpu</span><br><span class="line">├── cpu_dma_latency</span><br><span class="line">├── cuse</span><br><span class="line">├── disk</span><br><span class="line">├── dri</span><br><span class="line">├── drm_dp_aux0</span><br><span class="line">├── ecryptfs</span><br><span class="line">├── fb0</span><br><span class="line">├── fd -&gt; /proc/self/fd</span><br><span class="line">├── full</span><br><span class="line">├── fuse</span><br><span class="line">├── gpiochip0</span><br><span class="line">├── hidraw0</span><br><span class="line">├── hidraw1</span><br><span class="line">├── hpet</span><br><span class="line">├── hugepages</span><br><span class="line">├── hwrng</span><br><span class="line">├── i2c-0</span><br><span class="line">├── initctl -&gt; /run/systemd/initctl/fifo</span><br><span class="line">├── input</span><br><span class="line">├── kmsg</span><br><span class="line">├── kvm</span><br><span class="line">├── lightnvm</span><br><span class="line">├── <span class="built_in">log</span> -&gt; /run/systemd/journal/dev-log</span><br><span class="line">├── loop0</span><br><span class="line">├── loop1</span><br><span class="line">├── loop10</span><br><span class="line">├── loop-control</span><br><span class="line">├── mapper</span><br><span class="line">├── mcelog</span><br><span class="line">├── media0</span><br><span class="line">├── mei0</span><br><span class="line">├── mem</span><br><span class="line">├── memory_bandwidth</span><br><span class="line">├── mqueue</span><br><span class="line">├── net</span><br><span class="line">├── network_latency</span><br><span class="line">├── network_throughput</span><br><span class="line">├── null</span><br><span class="line">├── nvidia0</span><br><span class="line">├── nvidiactl</span><br><span class="line">├── nvidia-modeset</span><br><span class="line">├── nvidia-uvm</span><br><span class="line">├── nvidia-uvm-tools</span><br><span class="line">├── port</span><br><span class="line">├── ppp</span><br><span class="line">├── psaux</span><br><span class="line">├── ptmx</span><br><span class="line">├── pts</span><br><span class="line">├── random</span><br><span class="line">├── rfkill</span><br><span class="line">├── rtc -&gt; rtc0</span><br><span class="line">├── rtc0</span><br><span class="line">├── sda</span><br><span class="line">├── sda1</span><br><span class="line">├── sdb</span><br><span class="line">├── sdb1</span><br><span class="line">├── sg0</span><br><span class="line">├── shm</span><br><span class="line">├── snapshot</span><br><span class="line">├── snd</span><br><span class="line">├── sr0</span><br><span class="line">├── stderr -&gt; /proc/self/fd/2</span><br><span class="line">├── stdin -&gt; /proc/self/fd/0</span><br><span class="line">├── stdout -&gt; /proc/self/fd/1</span><br><span class="line">├── tpm0</span><br><span class="line">├── tpmrm0</span><br><span class="line">├── tty</span><br><span class="line">├── tty0</span><br><span class="line">├── tty1</span><br><span class="line">├── ttyprintk</span><br><span class="line">├── ttyS0</span><br><span class="line">├── ttyS1</span><br><span class="line">├── uhid</span><br><span class="line">├── uinput</span><br><span class="line">├── urandom</span><br><span class="line">├── usb</span><br><span class="line">├── userio</span><br><span class="line">├── v4l</span><br><span class="line">├── vcs</span><br><span class="line">├── vcs1</span><br><span class="line">├── vfio</span><br><span class="line">├── vga_arbiter</span><br><span class="line">├── vhci</span><br><span class="line">├── vhost-net</span><br><span class="line">├── vhost-vsock</span><br><span class="line">├── video0</span><br><span class="line">└── zero</span><br></pre></td></tr></table></figure></div><br><br><br></details><h3 id="etc-目录"><a href="#etc-目录" class="headerlink" title="/etc 目录"></a><code>/etc</code> 目录</h3><blockquote><p>设备主机独有的系统配置文件（特定主机，系统范围内的配置文件）<br>关于这个名称当前有争议。在贝尔实验室关于UNIX实现文档的早期版本中，/etc 被称为etcetera，这是由于过去此目录中存放所有不属于别处的所有东西（然而，FHS限制/etc存放静态配置文件，不能包含二进制文件）。 自从早期文档出版以来，目录名称已被以各种方式重新称呼。最近的解释包括反向缩略语如：”可编辑的文本配置”（英文 “Editable Text Configuration”）或”扩展工具箱”（英文 “Extended Tool Chest”)。<a href="https://zh.wikipedia.org/wiki/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%E6%A0%87%E5%87%86" target="_blank" rel="noopener">Wiki</a>  </p></blockquote><ul><li>/etc 目录下面必须要以下这些文件夹或者说是软连接</li></ul><table><thead><tr><th style="text-align:right">目录</th><th style="text-align:right">用途</th></tr></thead><tbody><tr><td style="text-align:right">opt</td><td style="text-align:right">/opt的配置文件</td></tr><tr><td style="text-align:right">X11</td><td style="text-align:right">X桌面的配置文件（可选）</td></tr><tr><td style="text-align:right">sgml</td><td style="text-align:right">SGML的配置文件（可选）</td></tr><tr><td style="text-align:right">xml</td><td style="text-align:right">XML的配置文件（可选）</td></tr></tbody></table><details><br><summary>/etc</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br></pre></td><td class="code"><pre><span class="line">/etc</span><br><span class="line">├── acpi</span><br><span class="line">├── adduser.conf</span><br><span class="line">├── adjtime</span><br><span class="line">├── alternatives</span><br><span class="line">├── anacrontab</span><br><span class="line">├── apache2</span><br><span class="line">├── apg.conf</span><br><span class="line">├── apm</span><br><span class="line">├── apparmor</span><br><span class="line">├── apparmor.d</span><br><span class="line">├── apport</span><br><span class="line">├── appstream.conf</span><br><span class="line">├── apt</span><br><span class="line">├── avahi</span><br><span class="line">├── bash.bashrc</span><br><span class="line">├── bash_completion</span><br><span class="line">├── bash_completion.d</span><br><span class="line">├── bindresvport.blacklist</span><br><span class="line">├── binfmt.d</span><br><span class="line">├── bluetooth</span><br><span class="line">├── brlapi.key</span><br><span class="line">├── brltty</span><br><span class="line">├── brltty.conf</span><br><span class="line">├── ca-certificates</span><br><span class="line">├── ca-certificates.conf</span><br><span class="line">├── calendar</span><br><span class="line">├── chatscripts</span><br><span class="line">├── chromium</span><br><span class="line">├── console-setup</span><br><span class="line">├── containerd</span><br><span class="line">├── cracklib</span><br><span class="line">├── cron.d</span><br><span class="line">├── cron.daily</span><br><span class="line">├── cron.hourly</span><br><span class="line">├── cron.monthly</span><br><span class="line">├── crontab</span><br><span class="line">├── cron.weekly</span><br><span class="line">├── cryptsetup-initramfs</span><br><span class="line">├── crypttab</span><br><span class="line">├── cups</span><br><span class="line">├── cupshelpers</span><br><span class="line">├── dbus-1</span><br><span class="line">├── dconf</span><br><span class="line">├── debconf.conf</span><br><span class="line">├── debian_version</span><br><span class="line">├── default</span><br><span class="line">├── deluser.conf</span><br><span class="line">├── depmod.d</span><br><span class="line">├── dhcp</span><br><span class="line">├── dictionaries-common</span><br><span class="line">├── dkms</span><br><span class="line">├── dnsmasq.d</span><br><span class="line">├── dnsmasq.d-available</span><br><span class="line">├── docker</span><br><span class="line">├── dpkg</span><br><span class="line">├── drirc</span><br><span class="line">├── emacs</span><br><span class="line">├── environment</span><br><span class="line">├── ethertypes</span><br><span class="line">├── ffserver.conf</span><br><span class="line">├── firefox</span><br><span class="line">├── fonts</span><br><span class="line">├── fstab <span class="comment">#文件系统的静态信息</span></span><br><span class="line">├── fuse.conf</span><br><span class="line">├── fwupd</span><br><span class="line">├── gai.conf</span><br><span class="line">├── gconf</span><br><span class="line">├── gdb</span><br><span class="line">├── gdm3</span><br><span class="line">├── geoclue</span><br><span class="line">├── ghostscript</span><br><span class="line">├── glances</span><br><span class="line">├── glvnd</span><br><span class="line">├── gnome</span><br><span class="line">├── groff</span><br><span class="line">├── group <span class="comment">#关于用户组的文件</span></span><br><span class="line">├── group-</span><br><span class="line">├── grub.d</span><br><span class="line">├── gshadow</span><br><span class="line">├── gshadow-</span><br><span class="line">├── gss</span><br><span class="line">├── gtk-2.0</span><br><span class="line">├── gtk-3.0</span><br><span class="line">├── hddtemp.db</span><br><span class="line">├── hdparm.conf</span><br><span class="line">├── host.conf </span><br><span class="line">├── hostname</span><br><span class="line">├── hosts</span><br><span class="line">├── hosts.allow <span class="comment">#可访问本机的主机</span></span><br><span class="line">├── hosts.deny <span class="comment">#不可访问本机的主机</span></span><br><span class="line">├── hp</span><br><span class="line">├── ifplugd</span><br><span class="line">├── ImageMagick-6</span><br><span class="line">├── init</span><br><span class="line">├── init.d</span><br><span class="line">├── initramfs-tools</span><br><span class="line">├── inputrc</span><br><span class="line">├── insserv.conf.d</span><br><span class="line">├── iproute2</span><br><span class="line">├── issue</span><br><span class="line">├── issue.net</span><br><span class="line">├── java-11-openjdk</span><br><span class="line">├── java-8-openjdk</span><br><span class="line">├── kernel</span><br><span class="line">├── kernel-img.conf</span><br><span class="line">├── kerneloops.conf</span><br><span class="line">├── ldap</span><br><span class="line">├── ld.so.cache</span><br><span class="line">├── ld.so.conf</span><br><span class="line">├── ld.so.conf.d</span><br><span class="line">├── legal</span><br><span class="line">├── libao.conf</span><br><span class="line">├── libaudit.conf</span><br><span class="line">├── libblockdev</span><br><span class="line">├── libguestfs-tools.conf</span><br><span class="line">├── libibverbs.d</span><br><span class="line">├── libnl-3</span><br><span class="line">├── libpaper.d</span><br><span class="line">├── libvirt</span><br><span class="line">├── lighttpd</span><br><span class="line">├── lintianrc</span><br><span class="line">├── locale.alias</span><br><span class="line">├── locale.gen</span><br><span class="line">├── localtime -&gt; /usr/share/zoneinfo/Asia/Shanghai</span><br><span class="line">├── logcheck</span><br><span class="line">├── login.defs</span><br><span class="line">├── logrotate.conf</span><br><span class="line">├── logrotate.d</span><br><span class="line">├── lsb-release</span><br><span class="line">├── ltrace.conf</span><br><span class="line">├── lvm</span><br><span class="line">├── machine-id</span><br><span class="line">├── magic</span><br><span class="line">├── magic.mime</span><br><span class="line">├── mailcap</span><br><span class="line">├── mailcap.order</span><br><span class="line">├── manpath.config</span><br><span class="line">├── matplotlibrc</span><br><span class="line">├── mc</span><br><span class="line">├── mdadm</span><br><span class="line">├── mime.types</span><br><span class="line">├── minicom</span><br><span class="line">├── mke2fs.conf</span><br><span class="line">├── modprobe.d</span><br><span class="line">├── modules</span><br><span class="line">├── modules-load.d</span><br><span class="line">├── mtab -&gt; ../proc/self/mounts</span><br><span class="line">├── mtools.conf</span><br><span class="line">├── mysql</span><br><span class="line">├── nanorc</span><br><span class="line">├── netplan</span><br><span class="line">├── network</span><br><span class="line">├── networkd-dispatcher</span><br><span class="line">├── NetworkManager</span><br><span class="line">├── networks</span><br><span class="line">├── newt</span><br><span class="line">├── nginx</span><br><span class="line">├── nsswitch.conf</span><br><span class="line">├── openal</span><br><span class="line">├── OpenCL</span><br><span class="line">├── opt</span><br><span class="line">├── os-release -&gt; ../usr/lib/os-release</span><br><span class="line">├── PackageKit</span><br><span class="line">├── pam.conf</span><br><span class="line">├── pam.d</span><br><span class="line">├── papersize</span><br><span class="line">├── passwd</span><br><span class="line">├── passwd-</span><br><span class="line">├── pcmcia</span><br><span class="line">├── perl</span><br><span class="line">├── pki</span><br><span class="line">├── pm</span><br><span class="line">├── pnm2ppa.conf</span><br><span class="line">├── polkit-1</span><br><span class="line">├── popularity-contest.conf</span><br><span class="line">├── ppp</span><br><span class="line">├── presage.xml</span><br><span class="line">├── prime-discrete</span><br><span class="line">├── printcap -&gt; /run/cups/printcap</span><br><span class="line">├── profile</span><br><span class="line">├── profile.d</span><br><span class="line">├── protocols</span><br><span class="line">├── pulse</span><br><span class="line">├── python</span><br><span class="line">├── python2.7</span><br><span class="line">├── python3</span><br><span class="line">├── python3.6</span><br><span class="line">├── qemu-ifdown</span><br><span class="line">├── qemu-ifup</span><br><span class="line">├── ranger</span><br><span class="line">├── rc0.d <span class="comment">#开机运行项，优先级不同</span></span><br><span class="line">├── rc1.d <span class="comment">#开机运行项</span></span><br><span class="line">├── rc2.d <span class="comment">#开机运行项</span></span><br><span class="line">├── rc3.d <span class="comment">#开机运行项</span></span><br><span class="line">├── rc4.d <span class="comment">#开机运行项</span></span><br><span class="line">├── rc5.d <span class="comment">#开机运行项</span></span><br><span class="line">├── rc6.d <span class="comment">#开机运行项</span></span><br><span class="line">├── rcS.d <span class="comment">#开机运行项</span></span><br><span class="line">├── request-key.conf</span><br><span class="line">├── request-key.d</span><br><span class="line">├── resolvconf</span><br><span class="line">├── resolv.conf -&gt; ../run/systemd/resolve/stub-resolv.conf</span><br><span class="line">├── rmt</span><br><span class="line">├── rpc</span><br><span class="line">├── rsyslog.conf</span><br><span class="line">├── rsyslog.d</span><br><span class="line">├── sane.d</span><br><span class="line">├── sasl2</span><br><span class="line">├── securetty</span><br><span class="line">├── security</span><br><span class="line">├── selinux</span><br><span class="line">├── sensors3.conf</span><br><span class="line">├── sensors.d</span><br><span class="line">├── services</span><br><span class="line">├── shadow</span><br><span class="line">├── shadow-</span><br><span class="line">├── shells</span><br><span class="line">├── skel</span><br><span class="line">├── speech-dispatcher</span><br><span class="line">├── ssh</span><br><span class="line">├── ssl</span><br><span class="line">├── subgid</span><br><span class="line">├── subgid-</span><br><span class="line">├── subuid</span><br><span class="line">├── subuid-</span><br><span class="line">├── sudoers</span><br><span class="line">├── sudoers.d</span><br><span class="line">├── sysctl.conf</span><br><span class="line">├── sysctl.d</span><br><span class="line">├── sysstat</span><br><span class="line">├── systemd</span><br><span class="line">├── tenable_tag</span><br><span class="line">├── terminfo</span><br><span class="line">├── texmf</span><br><span class="line">├── thermald</span><br><span class="line">├── timezone</span><br><span class="line">├── timidity</span><br><span class="line">├── tmpfiles.d</span><br><span class="line">├── ucf.conf</span><br><span class="line">├── udev</span><br><span class="line">├── udisks2</span><br><span class="line">├── ufw</span><br><span class="line">├── updatedb.conf</span><br><span class="line">├── update-manager</span><br><span class="line">├── update-motd.d</span><br><span class="line">├── update-notifier</span><br><span class="line">├── UPower</span><br><span class="line">├── usb_modeswitch.conf</span><br><span class="line">├── usb_modeswitch.d</span><br><span class="line">├── vconsole.conf</span><br><span class="line">├── vdpau_wrapper.cfg</span><br><span class="line">├── vim</span><br><span class="line">├── virt-builder -&gt; xdg/virt-builder</span><br><span class="line">├── vmware</span><br><span class="line">├── vtrgb -&gt; /etc/alternatives/vtrgb</span><br><span class="line">├── w3m</span><br><span class="line">├── wgetrc</span><br><span class="line">├── whoopsie</span><br><span class="line">├── wildmidi</span><br><span class="line">├── wpa_supplicant</span><br><span class="line">├── X11</span><br><span class="line">├── xdg</span><br><span class="line">├── zsh</span><br><span class="line">└── zsh_command_not_found</span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="lib-目录"><a href="#lib-目录" class="headerlink" title="/lib 目录"></a><code>/lib</code> 目录</h3><blockquote><p>系统启动所需的共享二进制镜像文件和运行系统所必须的命令的二进制文件  </p><ul><li>至少下面一个文件名称必须存在在 <code>/lib</code> 目录下</li></ul></blockquote><table><thead><tr><th style="text-align:right">名称</th><th style="text-align:right">描述</th></tr></thead><tbody><tr><td style="text-align:right">libc.so.*</td><td style="text-align:right">C动态链接库</td></tr><tr><td style="text-align:right">ld*</td><td style="text-align:right">执行时链接器/加载器</td></tr></tbody></table><ul><li>如果 C 预处理程序已安装，那么由于历史原因 <code>/lib/cpp</code> 必须重定向到其目录。</li></ul><details><br><summary>/lib</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">/lib</span><br><span class="line">├── apparmor</span><br><span class="line">├── bridge-utils</span><br><span class="line">├── brltty</span><br><span class="line">├── console-setup</span><br><span class="line">├── cpp -&gt; /etc/alternatives/cpp</span><br><span class="line">├── crda</span><br><span class="line">├── cryptsetup</span><br><span class="line">├── ebtables</span><br><span class="line">├── firmware</span><br><span class="line">├── hdparm</span><br><span class="line">├── ifupdown</span><br><span class="line">├── init</span><br><span class="line">├── klibc-wBFLvVtxy4xJqEadIBJMa78iJz8.so</span><br><span class="line">├── libhandle.so -&gt; libhandle.so.1</span><br><span class="line">├── libhandle.so.1 -&gt; libhandle.so.1.0.3</span><br><span class="line">├── libhandle.so.1.0.3</span><br><span class="line">├── linux-sound-base</span><br><span class="line">├── lsb</span><br><span class="line">├── modprobe.d</span><br><span class="line">├── modules</span><br><span class="line">├── netplan</span><br><span class="line">├── recovery-mode</span><br><span class="line">├── security</span><br><span class="line">├── systemd</span><br><span class="line">├── terminfo</span><br><span class="line">├── udev</span><br><span class="line">├── ufw</span><br><span class="line">└── x86_64-linux-gnu</span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="lib-lt-qual-gt-目录"><a href="#lib-lt-qual-gt-目录" class="headerlink" title="/lib&lt;qual&gt; 目录"></a><code>/lib&lt;qual&gt;</code> 目录</h3><blockquote><p>系统上可能存在一个或多个/lib目录变体， 它们支持多个需要单独库的二进制格式。<br>如果存在一个或多个这些目录，则其内容的要求与普通/lib 目录相同，但不是必需的。  </p></blockquote><details><br><summary>/lib<qual></qual></summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/lib64</span><br><span class="line">└── ld-linux-x86-64.so.2 -&gt; /lib/x86_64-linux-gnu/ld-2.27.so</span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="media-目录"><a href="#media-目录" class="headerlink" title="/media 目录"></a><code>/media</code> 目录</h3><blockquote><p>此目录包含子目录，这些子目录用作可移动介质（如软盘，U盘，cdroms和zip磁盘）的安装点。<br>从历史上看，已经有许多其他不同的地方用于安装可移动媒体，如 <code>/cdrom</code>，<code>/mnt</code>或 <code>/mnt</code>  <code>/cdrom</code>。将所有可移除介质的挂载点直接放在根目录中可能会导致/中存在大量额外目录。尽管最近在 <code>/mnt</code> 中使用子目录作为挂载点已经很常见了，但它与使用 <code>/mnt</code> 直接作为临时挂载点的更古老的传统相冲突</p><ul><li>如果相应的子系统已正确安装，那么以下目录或目录的符号链接必须位于 <code>/media</code> 中  </li></ul></blockquote><table><thead><tr><th style="text-align:right">目录</th><th style="text-align:right">描述</th></tr></thead><tbody><tr><td style="text-align:right">floppy</td><td style="text-align:right">软盘驱动器（可选）</td></tr><tr><td style="text-align:right">cdrom</td><td style="text-align:right">CD-ROM驱动器（可选）</td></tr><tr><td style="text-align:right">cdrecorder</td><td style="text-align:right">CD刻录机（可选）</td></tr><tr><td style="text-align:right">zip</td><td style="text-align:right">Zip驱动器（可选）</td></tr></tbody></table><details><br><summary>/media</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/media</span><br><span class="line">├── C</span><br><span class="line">├── D</span><br><span class="line">└── l</span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="mnt-目录"><a href="#mnt-目录" class="headerlink" title="/mnt 目录"></a><code>/mnt</code> 目录</h3><blockquote><p>提供此目录，以便系统管理员可以根据需要临时安装文件系统。 此目录的内容是本地内容，不应影响任何程序的运行方式。 安装程序不得使用此目录：必须使用系统未使用的合适临时目录。</p></blockquote><details><br><summary>/mnt</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/mnt</span><br><span class="line"></span><br><span class="line">0 directories, 0 files</span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="opt-目录"><a href="#opt-目录" class="headerlink" title="/opt 目录"></a><code>/opt</code> 目录</h3><blockquote><p>要安装在/opt中的软件包必须将其静态文件放在单独的 <code>/opt/&lt;package&gt;</code> 或中<br><code>/opt/&lt;provider&gt;</code> 目录树，其中 <code>&lt;package&gt;</code> 是描述软件包的名称，<code>&lt;provider&gt;</code> 是提供商的LANANA注册名称。  </p><ul><li>保留目录 <code>/opt/bin</code>，<code>/opt/doc</code>，<code>/opt/include</code>，<code>/opt/info</code>，<code>/opt/lib</code>和<code>/opt/man</code> 供本地系统管理员使用。包可以提供旨在放入的“前端”文件（通过链接或<br>由本地系统管理员复制这些保留的目录，但在正常情况下必须保留这些目录。  </li><li>用户要调用的程序必须位于目录 <code>/opt/&lt;package&gt;/bin</code> 或其下 <code>/opt/&lt;provider&gt;</code> 层次结构。如果软件包包含 <strong>UNIX手册页</strong>，则它们必须位于 <code>/opt/&lt;package&gt;/share/man</code> 或在 <code>/opt/&lt;provider&gt;</code> 层次结构下 <strong>而且</strong> 子结构必须使用和 <code>/usr/share/man</code> 一样的目录结构。  </li><li>可更改的包文件 <strong>（在正常操作中更改）</strong> 必须安装在 <code>/var/opt</code> 中。</li></ul></blockquote><details><br><summary>/opt</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/opt</span><br><span class="line">├── containerd</span><br><span class="line">├── google</span><br><span class="line">├── kingsoft</span><br><span class="line">├── netease</span><br><span class="line">├── openwrt</span><br><span class="line">└── openwrt-build.tar</span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="root-目录"><a href="#root-目录" class="headerlink" title="/root 目录"></a><code>/root</code> 目录</h3><blockquote><p>root 用户目录</p></blockquote><h3 id="sbin-目录"><a href="#sbin-目录" class="headerlink" title="/sbin 目录"></a><code>/sbin</code> 目录</h3><blockquote><p>用于系统管理的实用程序（和其他仅用于root的命令）存储在<code>/sbin</code>，<code>/usr/sbin</code> 和 <code>/usr/local/sbin</code> 中。 除了 <code>/bin</code> 中的二进制文件之外，<code>/sbin</code> 还包含引导，恢复，恢复和 <code>/</code> 或修复系统所必需的二进制文件。 已知 <code>/usr</code> 安装后执行的程序（当没有问题时）通常放在 <code>/usr/sbin</code> 中。 本地安装的系统管理程序应放在 <code>/usr/local/sbin</code> 中</p></blockquote><details><br><summary>/usr</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br></pre></td><td class="code"><pre><span class="line">/sbin</span><br><span class="line">├── acpi_available</span><br><span class="line">├── agetty</span><br><span class="line">├── alsa</span><br><span class="line">├── apm_available</span><br><span class="line">├── apparmor_parser</span><br><span class="line">├── auibusy</span><br><span class="line">├── aumvdown</span><br><span class="line">├── auplink</span><br><span class="line">├── badblocks</span><br><span class="line">├── blkdeactivate</span><br><span class="line">├── blkdiscard</span><br><span class="line">├── blkid</span><br><span class="line">├── blockdev</span><br><span class="line">├── brctl</span><br><span class="line">├── bridge</span><br><span class="line">├── brltty -&gt; /bin/brltty</span><br><span class="line">├── brltty-setup</span><br><span class="line">├── capsh</span><br><span class="line">├── cfdisk</span><br><span class="line">├── cgdisk</span><br><span class="line">├── chcpu</span><br><span class="line">├── crda</span><br><span class="line">├── create-uvm-dev-node</span><br><span class="line">├── cryptdisks_start</span><br><span class="line">├── cryptdisks_stop</span><br><span class="line">├── cryptsetup</span><br><span class="line">├── cryptsetup-reencrypt</span><br><span class="line">├── ctrlaltdel</span><br><span class="line">├── debugfs</span><br><span class="line">├── debugreiserfs</span><br><span class="line">├── depmod -&gt; /bin/kmod</span><br><span class="line">├── devlink</span><br><span class="line">├── dhclient</span><br><span class="line">├── dhclient-script</span><br><span class="line">├── dmeventd</span><br><span class="line">├── dmsetup</span><br><span class="line">├── dmstats -&gt; dmsetup</span><br><span class="line">├── dosfsck -&gt; fsck.fat</span><br><span class="line">├── dosfslabel -&gt; fatlabel</span><br><span class="line">├── dumpe2fs</span><br><span class="line">├── dumpexfat</span><br><span class="line">├── e2fsck</span><br><span class="line">├── e2image</span><br><span class="line">├── e2label -&gt; tune2fs</span><br><span class="line">├── e2undo</span><br><span class="line">├── ebtables</span><br><span class="line">├── ebtables-restore</span><br><span class="line">├── ebtables-save</span><br><span class="line">├── exfatfsck</span><br><span class="line">├── exfatlabel</span><br><span class="line">├── fatlabel</span><br><span class="line">├── fdisk</span><br><span class="line">├── findfs</span><br><span class="line">├── fixparts</span><br><span class="line">├── fsadm</span><br><span class="line">├── fsck</span><br><span class="line">├── fsck.cramfs</span><br><span class="line">├── fsck.exfat -&gt; exfatfsck</span><br><span class="line">├── fsck.ext2 -&gt; e2fsck</span><br><span class="line">├── fsck.fat</span><br><span class="line">├── fsck.minix</span><br><span class="line">├── fsck.reiserfs</span><br><span class="line">├── fsck.xfs</span><br><span class="line">├── fsfreeze</span><br><span class="line">├── fstab-decode</span><br><span class="line">├── fstrim</span><br><span class="line">├── gdisk</span><br><span class="line">├── <span class="built_in">getcap</span></span><br><span class="line">├── getpcaps</span><br><span class="line">├── get-quirk-options</span><br><span class="line">├── getty -&gt; agetty</span><br><span class="line">├── halt -&gt; /bin/systemctl</span><br><span class="line">├── hdparm</span><br><span class="line">├── hwclock</span><br><span class="line">├── ifconfig</span><br><span class="line">├── ifdown -&gt; ifup</span><br><span class="line">├── ifquery -&gt; ifup</span><br><span class="line">├── ifup</span><br><span class="line">├── init -&gt; /lib/systemd/systemd</span><br><span class="line">├── insmod -&gt; /bin/kmod</span><br><span class="line">├── installkernel</span><br><span class="line">├── integritysetup</span><br><span class="line">├── ip -&gt; /bin/ip</span><br><span class="line">├── ipmaddr</span><br><span class="line">├── iptables -&gt; xtables-multi</span><br><span class="line">├── iptunnel</span><br><span class="line">├── isosize</span><br><span class="line">├── iw</span><br><span class="line">├── iwconfig</span><br><span class="line">├── iwevent</span><br><span class="line">├── iwgetid</span><br><span class="line">├── iwlist</span><br><span class="line">├── iwpriv</span><br><span class="line">├── iwspy</span><br><span class="line">├── kbdrate</span><br><span class="line">├── key.dns_resolver</span><br><span class="line">├── killall5</span><br><span class="line">├── ldconfig</span><br><span class="line">├── ldconfig.real</span><br><span class="line">├── logsave</span><br><span class="line">├── losetup</span><br><span class="line">├── lsmod -&gt; /bin/kmod</span><br><span class="line">├── lspcmcia -&gt; pccardctl</span><br><span class="line">├── lvchange -&gt; lvm</span><br><span class="line">├── lvm</span><br><span class="line">├── lvmconf</span><br><span class="line">├── lvmdump</span><br><span class="line">├── mdadm</span><br><span class="line">├── mdmon</span><br><span class="line">├── mii-tool</span><br><span class="line">├── mkdosfs -&gt; mkfs.fat</span><br><span class="line">├── mke2fs</span><br><span class="line">├── mkexfatfs</span><br><span class="line">├── mkfs</span><br><span class="line">├── mkfs.bfs</span><br><span class="line">├── mkfs.cramfs</span><br><span class="line">├── mkfs.exfat -&gt; mkexfatfs</span><br><span class="line">├── mkfs.fat</span><br><span class="line">├── mkfs.minix</span><br><span class="line">├── mkfs.msdos -&gt; mkfs.fat</span><br><span class="line">├── mkfs.vfat -&gt; mkfs.fat</span><br><span class="line">├── mkfs.xfs</span><br><span class="line">├── mkhomedir_helper</span><br><span class="line">├── mkntfs</span><br><span class="line">├── mkreiserfs</span><br><span class="line">├── mkswap</span><br><span class="line">├── modinfo -&gt; /bin/kmod</span><br><span class="line">├── modprobe -&gt; /bin/kmod</span><br><span class="line">├── mount.aufs</span><br><span class="line">├── mount.ecryptfs</span><br><span class="line">├── mount.ecryptfs_private</span><br><span class="line">├── mount.exfat -&gt; mount.exfat-fuse</span><br><span class="line">├── mount.exfat-fuse</span><br><span class="line">├── mount.fuse</span><br><span class="line">├── mount.lowntfs-3g -&gt; /bin/lowntfs-3g</span><br><span class="line">├── nameif</span><br><span class="line">├── ntfsclone</span><br><span class="line">├── ntfscp</span><br><span class="line">├── ntfslabel</span><br><span class="line">├── ntfsresize</span><br><span class="line">├── ntfsundelete</span><br><span class="line">├── on_ac_power</span><br><span class="line">├── pam_extrausers_chkpwd</span><br><span class="line">├── pam_extrausers_update</span><br><span class="line">├── pam_tally</span><br><span class="line">├── pam_tally2</span><br><span class="line">├── parted</span><br><span class="line">├── partprobe</span><br><span class="line">├── pccardctl</span><br><span class="line">├── pivot_root</span><br><span class="line">├── plipconfig</span><br><span class="line">├── plymouthd</span><br><span class="line">├── poweroff -&gt; /bin/systemctl</span><br><span class="line">├── prime-offload</span><br><span class="line">├── prime-switch</span><br><span class="line">├── rarp</span><br><span class="line">├── raw</span><br><span class="line">├── reboot -&gt; /bin/systemctl</span><br><span class="line">├── regdbdump</span><br><span class="line">├── reiserfsck</span><br><span class="line">├── reiserfstune</span><br><span class="line">├── request-key</span><br><span class="line">├── resize2fs</span><br><span class="line">├── resize_reiserfs</span><br><span class="line">├── rmmod -&gt; /bin/kmod</span><br><span class="line">├── route</span><br><span class="line">├── rtacct</span><br><span class="line">├── rtmon</span><br><span class="line">├── runlevel -&gt; /bin/systemctl</span><br><span class="line">├── runuser</span><br><span class="line">├── <span class="built_in">setcap</span></span><br><span class="line">├── setvtrgb</span><br><span class="line">├── sfdisk</span><br><span class="line">├── sgdisk</span><br><span class="line">├── shadowconfig</span><br><span class="line">├── shutdown -&gt; /bin/systemctl</span><br><span class="line">├── slattach</span><br><span class="line">├── start-stop-daemon</span><br><span class="line">├── sulogin</span><br><span class="line">├── swaplabel</span><br><span class="line">├── swapoff</span><br><span class="line">├── swapon</span><br><span class="line">├── switch_root</span><br><span class="line">├── sysctl</span><br><span class="line">├── tc</span><br><span class="line">├── telinit -&gt; /bin/systemctl</span><br><span class="line">├── tipc</span><br><span class="line">├── tune2fs</span><br><span class="line">├── u<span class="_">-d</span>-c-print-pci-ids</span><br><span class="line">├── udevadm -&gt; /bin/udevadm</span><br><span class="line">├── umount.aufs</span><br><span class="line">├── umount.ecryptfs</span><br><span class="line">├── umount.ecryptfs_private -&gt; mount.ecryptfs_private</span><br><span class="line">├── umount.udisks2</span><br><span class="line">├── unix_chkpwd</span><br><span class="line">├── unix_update</span><br><span class="line">├── ureadahead</span><br><span class="line">├── veritysetup</span><br><span class="line">├── vgcfgbackup -&gt; lvm</span><br><span class="line">├── wipefs</span><br><span class="line">├── wpa_action</span><br><span class="line">├── wpa_cli</span><br><span class="line">├── wpa_supplicant</span><br><span class="line">├── xfs_repair</span><br><span class="line">├── xtables-multi</span><br><span class="line">└── zramctl</span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="srv-目录"><a href="#srv-目录" class="headerlink" title="/srv 目录"></a><code>/srv</code> 目录</h3><blockquote><p>/srv 包含由此系统提供的特定于站点的数据。</p></blockquote><details><br><summary>/srv</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/srv</span><br><span class="line"></span><br><span class="line">0 directories, 0 files</span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="tmp-目录"><a href="#tmp-目录" class="headerlink" title="/tmp 目录"></a><code>/tmp</code> 目录</h3><blockquote><p>/tmp 目录必须可用于需要临时文件的程序。<br>任何程序不得假定 /tmp 中的任何文件或目录在程序的调用之间可以保留下来。</p></blockquote><details><br><summary>/tmp</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/tmp</span><br><span class="line">├── appInsights-nodeAIF-444c3af9-8</span><br><span class="line">├── config-err-JF43Rd</span><br><span class="line">├── electron-ssr Crashes</span><br><span class="line">├── fcitx-socket-:0</span><br><span class="line">├── net-export</span><br><span class="line">├── qipc_sharedmemory_cffabfbbcaefccd</span><br><span class="line">├── qipc_sharedmemory_WallchMemoryf72</span><br><span class="line">├── qipc_systemsem_cffabfbbcaefccdab</span><br><span class="line">├── ssh-kuDeYu5jr0zD</span><br><span class="line">├── systemd-private-86a2e1ed2ff64d</span><br><span class="line">├── VSCode Crashes</span><br><span class="line">└── Wallch Local Socket Server</span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="usr-目录"><a href="#usr-目录" class="headerlink" title="/usr 目录"></a><code>/usr</code> 目录</h3><blockquote><p>/usr 是文件系统的第二个主要部分。<br>/usr 是可共享的只读数据。这意味着 /usr 应该可以在各种符合FHS的主机之间共享，并且不得写入。<br>任何特定于主机或随时间变化的信息都应该存储在其他位置。<br>大型软件包不得直接使用 /usr 层次结构下的子目录。  </p><ul><li>在 /usr 文件夹下面，必须要有这些文件夹：</li></ul></blockquote><table><thead><tr><th style="text-align:right">名称</th><th style="text-align:right">描述</th></tr></thead><tbody><tr><td style="text-align:right">bin</td><td style="text-align:right">用户命令的主要存放点</td></tr><tr><td style="text-align:right">include</td><td style="text-align:right">C 语言的头文件</td></tr><tr><td style="text-align:right">lib</td><td style="text-align:right">库文件</td></tr><tr><td style="text-align:right">local</td><td style="text-align:right">本地二级目录（在主系统安装后为空）</td></tr><tr><td style="text-align:right">sbin</td><td style="text-align:right">不重要的系统二进制文件</td></tr><tr><td style="text-align:right">share</td><td style="text-align:right">与文件系统结构无关的数据</td></tr><tr><td style="text-align:right">games</td><td style="text-align:right">游戏文件</td></tr><tr><td style="text-align:right">X11R6</td><td style="text-align:right">X Windows，11版的第6个 release 文件</td></tr><tr><td style="text-align:right">lib<qual></qual></td><td style="text-align:right">备用库</td></tr><tr><td style="text-align:right">src</td><td style="text-align:right">源码</td></tr></tbody></table><details><br><summary>/usr</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/usr</span><br><span class="line">├── bin</span><br><span class="line">├── games</span><br><span class="line">├── include</span><br><span class="line">├── lib</span><br><span class="line">├── lib64</span><br><span class="line">├── <span class="built_in">local</span></span><br><span class="line">├── sbin</span><br><span class="line">├── share</span><br><span class="line">│    └── man <span class="comment">#手册文件夹</span></span><br><span class="line">└── src <span class="comment">#source code</span></span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="var-目录"><a href="#var-目录" class="headerlink" title="/var 目录"></a><code>/var</code> 目录</h3><blockquote><p>/var包 含可变数据文件。这包括假脱机目录和文件，管理和日志记录数据，以及瞬态和临时文件.<br>/var的某些部分在不同系统之间不可共享。例如，/var/log，/var/lock 和/var/run。其他部分可以共享，特别是 /var/mail，/var/cache/man，/var/cache/fonts，和 /var/spool/news。<br>如果 /var不能成为一个单独的分区，通常最好将 /var移出根分区并进入 /usr分区。 （有时这样做是为了减小根分区的大小，或者在根分区中空间不足时）。但是，/var不能链接到 /usr，因为这会使 /usr 和 /var 的分离变得更加困难并且很可能会产生命名冲突。 相反的，将 /var链接到/usr/var。就可以了。</p></blockquote><details><br><summary>/var</summary><br><br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/var</span><br><span class="line">├── backups</span><br><span class="line">├── cache <span class="comment">#应用数据缓存</span></span><br><span class="line">├── crash <span class="comment">#系统崩溃转储文件</span></span><br><span class="line">├── lib  <span class="comment">#可变状态信息</span></span><br><span class="line">├── <span class="built_in">local</span> <span class="comment">#/usr/local 的可变数据</span></span><br><span class="line">├── lock -&gt; /run/lock</span><br><span class="line">├── <span class="built_in">log</span> <span class="comment">#日志文件</span></span><br><span class="line">├── mail <span class="comment">#用户邮箱</span></span><br><span class="line">├── opt <span class="comment">#/opt 的可变数据</span></span><br><span class="line">├── run -&gt; /run <span class="comment">#与进程运行相关的数据</span></span><br><span class="line">├── spool <span class="comment">#应用脱机文件</span></span><br><span class="line">├── tmp <span class="comment">#两次重启之间的交换文件</span></span><br><span class="line">└── www</span><br></pre></td></tr></table></figure></div><br><br></details><h3 id="参见"><a href="#参见" class="headerlink" title="参见"></a>参见</h3><h4 id="参考系统"><a href="#参考系统" class="headerlink" title="参考系统"></a>参考系统</h4><ul><li><em>Ubuntu 18.04</em></li></ul><h4 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h4><ol><li><a href="https://zh.wikipedia.org/wiki/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%E6%A0%87%E5%87%86" target="_blank" rel="noopener">文件系统层次结构标准</a></li><li><a href="http://www.pathname.com/fhs/" target="_blank" rel="noopener">Filesystem Hierarchy Standard</a></li></ol><!-- ### `/usr` 目录<details><summary>/usr</summary><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div><p></details></p><p>–&gt;</p>-->]]></content>
    
    <summary type="html">
    
      说起 linux 文件系统，一般学过 linux 的人都知道基本的那几个目录，但是具体应该是怎样的呢？这些文件放在这个目录里面到底合不合适？规不规范？如果我有一个程序，我应该把它放到哪里才能在命令行里面直接调用呢？
    
    </summary>
    
      <category term="Linux" scheme="https://iitii.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="https://iitii.github.io/tags/Linux/"/>
    
      <category term="文件目录" scheme="https://iitii.github.io/tags/%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95/"/>
    
      <category term="FHS" scheme="https://iitii.github.io/tags/FHS/"/>
    
  </entry>
  
  <entry>
    <title>TAPD git关联提交</title>
    <link href="https://iitii.github.io/2019/05/23/1/"/>
    <id>https://iitii.github.io/2019/05/23/1/</id>
    <published>2019-05-22T16:15:57.000Z</published>
    <updated>2019-07-01T14:52:10.885Z</updated>
    
    <content type="html"><![CDATA[<h3 id="首先"><a href="#首先" class="headerlink" title="首先"></a>首先</h3><div class="note danger">            <p>不, 这里没有内容… </p>          </div>      <h3>然后</h3>    <div class="note success">            <p>我们需要的什么？是从摇篮到坟墓的全套服务 </p>          </div>  <h3 id="创建GitHub账号"><a href="#创建GitHub账号" class="headerlink" title="创建GitHub账号"></a>创建GitHub账号</h3><ul><li>这里有现成的轮子，就不再复述了。<br><a href="https://www.jianshu.com/p/0c0d8d10a1cb" target="_blank" rel="noopener">注册Github详细教程</a></li></ul><h3 id="创建GitHub仓库"><a href="#创建GitHub仓库" class="headerlink" title="创建GitHub仓库"></a>创建GitHub仓库</h3><ul><li>同上<br><a href="https://wiki.jikexueyuan.com/project/github-basics/creat-new-repo.html" target="_blank" rel="noopener">在 GitHub 上创建一个新仓库</a></li></ul><h3 id="将-TAPD-与-Github仓库-关联起来"><a href="#将-TAPD-与-Github仓库-关联起来" class="headerlink" title="将 TAPD 与 Github仓库 关联起来"></a>将 <em>TAPD</em> 与 <em>Github仓库</em> 关联起来</h3><blockquote><p>ps: Secret Token 不是必须项，可以不生成。如果要用的话，就填到 <strong>Payload URL</strong> 下面的 <strong>Secret</strong> 里面去。<br>所谓的网络钩子，只是一个关联，相当于一个快捷方式。它并不会把文件什么的拉取到 <em>TAPD</em> 上，它只会告诉你有提交记录（相当于通知信息）。<br>可以把<em>TAPD</em>看成一个<strong>布告栏</strong>。当你看到有你感兴趣的信息时，你肯定不会向布告栏询问更具体的细节 <strong>而是</strong> 向发布公告的人(<em>Github</em>)询问更具体的细节。  </p></blockquote><ol><li>在GitHub上新建一个项目</li><li>点击仓库的设置</li><li>点击 <strong>Webhooks</strong> </li><li>点击 <strong>Add Webhook</strong></li></ol><p><img src="/images/git/1.png" alt="Loading"></p><ol start="5"><li>进入<strong>TAPD</strong> 项目详情页</li><li>点击设置</li><li>点击应用设置</li><li>点击Github源码（进去后可能会有个弹窗，关掉别管就行了）</li><li>点击复制URL</li><li>打开GitHub添加Webhook的那个页面，把URL复制到 <strong>PayLoad URL</strong> 里面去</li><li>点击下面的 <strong>Send me everything</strong></li><li>点击<strong>Add webhook</strong><br><img src="/images/git/2.png" alt="Loading"><br><img src="/images/git/3.png" alt="Loading"><br><img src="/images/git/4.png" alt="Loading"><br><img src="/images/git/5.png" alt="Loading">  </li></ol><h3 id="开始第一个提交"><a href="#开始第一个提交" class="headerlink" title="开始第一个提交"></a>开始第一个提交</h3><blockquote><p>提供3种提交方式：  </p><ol><li>网页提交  </li><li>使用 <em>Github Desktop</em> 进行提交</li><li>纯命令行操作<br>新手推荐第一种，也就是下面介绍的这种提交方式  </li></ol><ul><li>大体操作可以参考这个：<a href="http://wiki.jikexueyuan.com/project/github-basics/commit-first-change.html" target="_blank" rel="noopener">提交你的第一个更改</a>  </li><li><strong>注意</strong> ：在提交更改的时候，<strong><em>commit信息</em></strong> 必须符合接下来的提交格式，要不然 <strong>TAPD</strong> 没有关联提交记录</li></ul></blockquote><h3 id="提交格式"><a href="#提交格式" class="headerlink" title="提交格式"></a>提交格式</h3><h4 id="标准提交格式"><a href="#标准提交格式" class="headerlink" title="标准提交格式"></a>标准提交格式</h4><ul><li>需求、缺陷、任务对应关键字：</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># usernick 为 TAPD 的用户名</span><br><span class="line">需求： --story=[story id] --user=[usernick] 描述  </span><br><span class="line">缺陷： --bug=[bug id] --user=[usernick] 描述  </span><br><span class="line">任务： --task=[task id] --user=[usernick] 描述</span><br></pre></td></tr></table></figure></div><h4 id="已尝试的提交格式（除标准）"><a href="#已尝试的提交格式（除标准）" class="headerlink" title="已尝试的提交格式（除标准）"></a>已尝试的提交格式（除标准）</h4><blockquote><ol><li>提交的时候，指定的 <strong>–user</strong> 用户名必须和 <strong>TAPD</strong> 里面的用户名相同。如果不是那就关联不到指定的用户.   </li><li>Windows默认字符集为 <strong>GBK</strong>，所以直接用命令行提交会乱码，结果可能不会关联到指定用户。推荐使用 <strong>Github Desktop</strong> 或者 网页提交的方式。  </li><li>如果没有关联到指定用户，但是同步到了 <strong>TAPD</strong> 的关联提交，就会显示 “Github助手关联了 ${github.username} 提交的源码”    </li><li>没有详情的提交会被 <em>TAPD</em> 视为 <strong>无效提交</strong>，<strong>不会</strong>被同步到<em>git</em>关联提交     </li><li>在关联提交之后，需求的类型不会改变。换句话说，就是不会从 “规划中” 自动变成 “已完成”，这个要自己改。<br>划掉的为未进行测试提交的示例。<br><img src="/images/git/6.png" alt="Loading"><br><img src="/images/git/7.png" alt="Loading">  </li><li><code>--user=userName 提交说明</code> 提交有效，但是不会被关联到 TAPD</li><li><code>--story=1002534 --story=1002532 --user=Gayhub 测试关联提交</code> 提交有效，而且会被<strong>TAPD</strong>视为两次提交,完成了两个需求,显示为GitHub关联的提交（GitHub还是将这个视为一次提交）</li><li><del><code>--story=1002534 --story=1002532</code></del></li><li><del><code>--user=Gayhub --story=1002534 --story=1002532  测试关联提交</code></del></li><li>如果还有 <strong>其他可能的方案</strong> 或者 <strong>测试结果</strong> 欢迎留言</li></ol></blockquote><h3 id="添加项目协助者（拉小组成员进项目）"><a href="#添加项目协助者（拉小组成员进项目）" class="headerlink" title="添加项目协助者（拉小组成员进项目）"></a>添加项目协助者（拉小组成员进项目）</h3><ul><li>跟设置 WebHook 差不多，还是项目那边的 <em>setting</em> 进去</li></ul><ol><li>点击 <em>setting</em></li><li>点击 <em>Collaborators</em></li><li>可以通过 <em>Github</em> 的 <strong>用户名</strong> 或者 <strong>全名</strong> 或者 <strong>注册使用的电子邮件地址</strong> 来查找并添加用户</li><li>点击 <em>Add collaborator</em>，完成。<blockquote><p>如果用户设置了隐藏电子邮件地址的话，那就无法通过电子邮件地址来添加协助者。</p></blockquote></li></ol><p><img src="/images/git/8.png" alt="Loading"></p><h3 id="发布仓库（仓库将变为只读状态）"><a href="#发布仓库（仓库将变为只读状态）" class="headerlink" title="发布仓库（仓库将变为只读状态）"></a>发布仓库（仓库将变为只读状态）</h3><ul><li>跟设置 WebHook 差不多，还是项目那边的 <em>setting</em> 进去  </li></ul><ol><li>点击 <em>setting</em></li><li>拉动网页到最底端</li><li>在 <code>Danger Zone</code> 里面找到 <code>Archive this repository</code></li><li>点击 <code>Archive this repository</code>，发布仓库，完成。</li></ol><p><img src="/images/git/9.png" alt="Loading"></p>]]></content>
    
    <summary type="html">
    
      TAPD 关于git关联提交的全套服务 (假 笑
    
    </summary>
    
      <category term="git" scheme="https://iitii.github.io/categories/git/"/>
    
    
      <category term="git" scheme="https://iitii.github.io/tags/git/"/>
    
      <category term="TAPD" scheme="https://iitii.github.io/tags/TAPD/"/>
    
  </entry>
  
  <entry>
    <title>you-get+ffmpeg实现从下载到提取音视频</title>
    <link href="https://iitii.github.io/2019/05/01/1/"/>
    <id>https://iitii.github.io/2019/05/01/1/</id>
    <published>2019-04-30T17:30:15.000Z</published>
    <updated>2019-05-12T10:29:13.468Z</updated>
    
    <content type="html"><![CDATA[<h3 id="安装you-get"><a href="#安装you-get" class="headerlink" title="安装you-get"></a>安装you-get</h3><ul><li><code>sudo apt-get install python3-pip &amp;&amp; sudo pip3 install you-get</code></li><li>其他安装方法：<a href="https://github.com/soimort/you-get#option-1-install-via-pip" target="_blank" rel="noopener">https://github.com/soimort/you-get#option-1-install-via-pip</a></li></ul><h3 id="简单使用you-get"><a href="#简单使用you-get" class="headerlink" title="简单使用you-get"></a>简单使用you-get</h3><blockquote><p>更完善的使用方法请看：<a href="https://github.com/soimort/you-get#getting-started" target="_blank" rel="noopener">https://github.com/soimort/you-get#getting-started</a></p></blockquote><h4 id="指定下载的画质或者媒体类型"><a href="#指定下载的画质或者媒体类型" class="headerlink" title="指定下载的画质或者媒体类型"></a>指定下载的画质或者媒体类型</h4><ol><li>使用 <code>-i</code> 选项进行查看可用下载：<code>you-get -i &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39;</code></li><li>使用 <code>--itag=</code> 选项指定下载文件：<code>you-get --itag=18 &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39;</code></li></ol><h4 id="直接下载-you-get-39-https-www-youtube-com-watch-v-jNQXAC9IVRw-39"><a href="#直接下载-you-get-39-https-www-youtube-com-watch-v-jNQXAC9IVRw-39" class="headerlink" title="直接下载: you-get &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39;"></a>直接下载: <code>you-get &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39;</code></h4><blockquote><p>直接下载一般会下载 <code>-i</code> 选项的第一个文件，<strong>一般</strong> 是最高的画质。</p></blockquote><h4 id="下载其他文件，不仅仅是媒体文件：you-get-https-stallman-org-rms-jpg"><a href="#下载其他文件，不仅仅是媒体文件：you-get-https-stallman-org-rms-jpg" class="headerlink" title="下载其他文件，不仅仅是媒体文件：you-get https://stallman.org/rms.jpg"></a>下载其他文件，不仅仅是媒体文件：<code>you-get https://stallman.org/rms.jpg</code></h4><h4 id="通过-HTTP-代理下载"><a href="#通过-HTTP-代理下载" class="headerlink" title="通过 HTTP 代理下载"></a>通过 <strong>HTTP</strong> 代理下载</h4><blockquote><p>没有代理？参见：<a href="https://iitii.github.io/2019/03/17/1/">自建简易代理</a></p><ul><li>我们只需要在<strong>第一个选项前面</strong>插入<code>-x ip:port</code>就行，如：<code>you-get -x localhost:1080 -i &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39;</code></li></ul></blockquote><h3 id="安装FFmpeg"><a href="#安装FFmpeg" class="headerlink" title="安装FFmpeg"></a>安装FFmpeg</h3><ul><li>参见我的这篇博文：<a href="https://iitii.github.io/2019/02/01/FFmpeg%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/">FFmpeg的简单使用</a></li></ul><h3 id="使用you-get-ffmpeg实现从下载到提取音视频"><a href="#使用you-get-ffmpeg实现从下载到提取音视频" class="headerlink" title="使用you-get+ffmpeg实现从下载到提取音视频"></a>使用you-get+ffmpeg实现从下载到提取音视频</h3><h4 id="you-get下载视频"><a href="#you-get下载视频" class="headerlink" title="you-get下载视频"></a>you-get下载视频</h4><ul><li>参见：<a href="#简单使用you-get">简单使用you-get</a></li></ul><h4 id="ffmpeg提取指定音视频文件"><a href="#ffmpeg提取指定音视频文件" class="headerlink" title="ffmpeg提取指定音视频文件"></a>ffmpeg提取指定音视频文件</h4><h5 id="手动实现"><a href="#手动实现" class="headerlink" title="手动实现"></a>手动实现</h5><ul><li>参见我的这篇博文：<a href="https://iitii.github.io/2019/02/01/FFmpeg%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/">FFmpeg的简单使用</a><h5 id="脚本实现"><a href="#脚本实现" class="headerlink" title="脚本实现"></a>脚本实现</h5></li><li><p>获取脚本：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/IITII/Useless/master/ffmpeg.sh</span><br></pre></td></tr></table></figure></div></li><li><p>使用脚本：</p><ol><li>直接<code>./ffmpeg.sh</code> 按着脚本一步一步来   <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ ./ffmpeg.sh</span><br><span class="line">请选择你要选择的操作的序号：</span><br><span class="line"></span><br><span class="line">* 所有文件名请完整输入文件名称，包括后缀名！</span><br><span class="line"></span><br><span class="line">1.获取aac音频文件</span><br><span class="line">2.获取mp3文件</span><br><span class="line">3.获取H.264视频流文件(.mp4文件)</span><br><span class="line">4.整合mp4文件和mp4文件</span><br><span class="line">5.整合mp4和mp3文件</span><br><span class="line">6.整合mp4和aac文件</span><br><span class="line">7.添加srt字幕</span><br><span class="line">8.srt字幕转ass</span><br><span class="line">9.添加ass字幕</span><br></pre></td></tr></table></figure></div></li></ol></li></ul><ol start="2"><li><p>命令行传参</p><ol><li><p>使用 <code>-h</code> 查看帮助</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ ./ffmpeg.sh -h</span><br><span class="line">-h: To show this menu</span><br><span class="line">-e: Show Some Useful Templates</span><br><span class="line">-m [1-9]: To switch mode</span><br><span class="line">     -m 1: 获取aac音频文件</span><br><span class="line">     -m 2: 获取mp3文件</span><br><span class="line">     -m 3: 获取H.264视频流文件(.mp4文件)</span><br><span class="line">     -m 4: 整合mp4文件和mp4文件</span><br><span class="line">     -m 5: .整合mp4和mp3文件</span><br><span class="line">     -m 6: 整合mp4和aac文件</span><br><span class="line">     -m 7: 添加srt字幕</span><br><span class="line">     -m 8: srt字幕转ass</span><br><span class="line">     -m 9: 添加ass字幕</span><br></pre></td></tr></table></figure></div></li><li><p>使用 <code>-e</code> 查看示例</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ ./ffmpeg.sh -e</span><br><span class="line">./ffmpeg.sh -m 1 input.mp4 output.aac</span><br><span class="line">./ffmpeg.sh -m 2 input.mp4 output.mp3</span><br><span class="line">./ffmpeg.sh -m 3 input.mp4 output.mp4</span><br><span class="line">./ffmpeg.sh -m 4 input_audio.mp4 input_video.mp4 output.mp4</span><br><span class="line">./ffmpeg.sh -m 5 input.mp3 input.mp4 output.mp4</span><br><span class="line">./ffmpeg.sh -m 6 input.aac input.mp4 output.mp4</span><br><span class="line">./ffmpeg.sh -m 7 input.mp4 input.srt output.mp4</span><br><span class="line">./ffmpeg.sh -m 8 input.srt output.ass</span><br><span class="line">./ffmpeg.sh -m 9 input.mp4 input.ass output.mp4</span><br></pre></td></tr></table></figure></div></li><li><p>使用 <code>-m</code> 指定处理模式</p><blockquote><p>具体使用参见示例：<code>./ffmpeg.sh -e</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-m 1: 获取aac音频文件</span><br><span class="line">-m 2: 获取mp3文件</span><br><span class="line">-m 3: 获取H.264视频流文件(.mp4文件)</span><br><span class="line">-m 4: 整合mp4文件和mp4文件</span><br><span class="line">-m 5: 整合mp4和mp3文件</span><br><span class="line">-m 6: 整合mp4和aac文件</span><br><span class="line">-m 7: 添加srt字幕</span><br><span class="line">-m 8: srt字幕转ass</span><br><span class="line">-m 9: 添加ass字幕</span><br></pre></td></tr></table></figure></div></blockquote></li></ol></li></ol><h3 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h3><ul><li><a href="https://youtu.be/k45EpgweT9o" target="_blank" rel="noopener">Carole &amp; Tuesday片头曲</a></li></ul><ol><li>下载文件：<code>you-get https://youtu.be/k45EpgweT9o</code></li><li>合并文件：<code>./ffmpeg.sh -m 4 *01*.mp4 *00*.mp4 output.mp4</code></li><li>压入字幕：<code>./ffmpeg.sh -m 7 output.mp4 *.ja.srt output_srt.mp4</code></li></ol><h3 id="So-Enjoy-it"><a href="#So-Enjoy-it" class="headerlink" title="So, Enjoy it!!!"></a>So, Enjoy it!!!</h3><blockquote><p>当然如果有 <em>bug</em> 的话，还请及时反馈（推荐 <em><a href="https://github.com/IITII/Useless" target="_blank" rel="noopener">GitHub</a></em> 直接提 <strong>issues</strong>, 直接在文章底部留言也行）</p></blockquote>]]></content>
    
    <summary type="html">
    
      有的时候我们发现一个很好的视频想下载却苦于没有办法的时候该怎么办呢？下载下来的文件和我们想要的不一样该怎么办呢？这时候我们可以通过you-get和ffmpeg实现
    
    </summary>
    
      <category term="software" scheme="https://iitii.github.io/categories/software/"/>
    
      <category term="useful" scheme="https://iitii.github.io/categories/software/useful/"/>
    
    
      <category term="ffmpeg" scheme="https://iitii.github.io/tags/ffmpeg/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu使用命令修改屏幕的显示方向</title>
    <link href="https://iitii.github.io/2019/04/22/1/"/>
    <id>https://iitii.github.io/2019/04/22/1/</id>
    <published>2019-04-22T14:56:49.000Z</published>
    <updated>2019-08-23T03:51:02.222Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center">Ubuntu踩坑记</blockquote><p><del>之前VM的<code>查看-&gt;立即适应客户机</code>还没有变灰的时候倒是可以通过这个调屏幕的方向，不过天有不测风云 :-(</del></p><blockquote><p>PS: 在更改屏幕方向以后如果您想保持这个显示方向的话，还请在 <code>setting-&gt;Display</code> 里面修改显示器方向后保存。<br>如果不，重启之后系统就会恢复原来的显示器方向。  </p></blockquote><ul><li>具体操作：<ul><li><ol><li>打开 <code>Setting -&gt; Devices -&gt; Displays -&gt; Orientation</code></li></ol></li><li><ol start="2"><li>点击修改，其中 <code>Landscape</code> 表示正常，<code>Portrait right</code> 代表向右旋转，<code>Portrait left</code> 代表向左旋转，<code>Landscape flipped</code> 代表翻转</li></ol></li><li><ol start="3"><li>先修改为不正常，然后如果鼠标错位了的话，直接通过 <strong><em>Tab键和回车键</em></strong> 进行选择。</li></ol></li><li>最后修改为正常，然后再进行保存就 ok 了。</li></ul></li></ul><h3 id="恢复默认方向"><a href="#恢复默认方向" class="headerlink" title="恢复默认方向"></a>恢复默认方向</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr -o normal</span><br></pre></td></tr></table></figure></div><h3 id="左旋转"><a href="#左旋转" class="headerlink" title="左旋转"></a>左旋转</h3><blockquote><p>同理右旋转和反转屏幕等操作也类似，更多操作还请参考 <code>xrandr --help</code></p></blockquote><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr -o left</span><br></pre></td></tr></table></figure></div><h3 id="查看当前显示器的输出信息"><a href="#查看当前显示器的输出信息" class="headerlink" title="查看当前显示器的输出信息"></a>查看当前显示器的输出信息</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xrandr -o q</span><br></pre></td></tr></table></figure></div><h3 id="旋转某个视频接口的视频输出方向"><a href="#旋转某个视频接口的视频输出方向" class="headerlink" title="旋转某个视频接口的视频输出方向"></a>旋转某个视频接口的视频输出方向</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xrandr --output HDMI1 --rotate left</span><br><span class="line"></span><br><span class="line">xrandr --output HDMI1 --rotate normal</span><br></pre></td></tr></table></figure></div>]]></content>
    
    <summary type="html">
    
      这几天折腾Ubuntu虚拟机（OS:Ubuntu18.04）,发现虚拟机的屏幕方向不对而且鼠标也移位了。。。最后使用 xrandr 把屏幕方向调过来了。
    
    </summary>
    
      <category term="config" scheme="https://iitii.github.io/categories/config/"/>
    
    
      <category term="Ubuntu" scheme="https://iitii.github.io/tags/Ubuntu/"/>
    
      <category term="Gnome" scheme="https://iitii.github.io/tags/Gnome/"/>
    
      <category term="xrandr" scheme="https://iitii.github.io/tags/xrandr/"/>
    
  </entry>
  
  <entry>
    <title>禁用Windows 驱动器/文件夹 压缩属性</title>
    <link href="https://iitii.github.io/2019/04/10/1/"/>
    <id>https://iitii.github.io/2019/04/10/1/</id>
    <published>2019-04-10T14:53:50.000Z</published>
    <updated>2019-04-10T15:13:03.998Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本教程介绍如何在Microsoft Windows中禁用“文件压缩”功能。<br>原文链接：<a href="https://www.technipages.com/disable-windows-file-compression" target="_blank" rel="noopener">https://www.technipages.com/disable-windows-file-compression</a></p></blockquote><h3 id="Windows-10-8-7和Vista命令"><a href="#Windows-10-8-7和Vista命令" class="headerlink" title="Windows 10,8,7和Vista命令"></a>Windows 10,8,7和Vista命令</h3><ul><li>选择 <code>开始</code> 按钮，然后键入 <code>CMD</code>。  </li><li>右键单击 <code>命令提示符</code> ，然后选择 <code>以管理员身份运行</code>。</li><li>如果提示输入密码，请输入具有管理员权限的帐户的凭据。键入以下内容，然后按 <code>Enter</code>:</li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fsutil behavior set disablecompression <span class="number">1</span></span><br></pre></td></tr></table></figure></div><ul><li><p>您应该收到一条消息 <strong>请注意：对此设置的更改需要重新启动才能生效。重新启动计算机以进行更改。</strong></p></li><li><p>如果要再次启用它，可以使用该命令:</p></li></ul><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="POWERSHELL"><figure class="iseeu highlight /powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fsutil behavior set disablecompression <span class="number">0</span></span><br></pre></td></tr></table></figure></div><h3 id="Windows组策略"><a href="#Windows组策略" class="headerlink" title="Windows组策略"></a>Windows组策略</h3><ol><li>从组策略编辑器，导航到<code>计算机配置</code>&gt;<code>管理模板</code>&gt;<code>系统</code>&gt;<code>文件系统</code>&gt;<code>NTFS</code>。</li><li>打开<code>不允许在所有NTFS卷上进行压缩</code>。</li><li>选择<code>已启用</code>单选按钮，然后选择<code>确定</code>。</li></ol><h3 id="Windows-2000和XP-NTFS卷"><a href="#Windows-2000和XP-NTFS卷" class="headerlink" title="Windows 2000和XP NTFS卷"></a>Windows 2000和XP NTFS卷</h3><ol><li>按住<code>Windows键</code>，然后按<code>R</code>。</li><li>输入<code>regedit</code>并选择<code>确定</code>。</li><li><p>导航到以下内容：<code>HKEY_LOCAL_MACHINE/SYSTEM/CURRENTCONTROLSET/Control/FileSystem</code></p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HKEY_LOCAL_MACHINE</span><br><span class="line">SYSTEM</span><br><span class="line">CURRENTCONTROLSET</span><br><span class="line">Control</span><br><span class="line">FileSystem</span><br></pre></td></tr></table></figure></div></li><li><p>在<code>NtfsDisableCompression</code> 的右侧查找条目。如果它不存在，您将需要创建它。为此，右键单击<code>FileSystem</code>，然后选择<code>新建</code> &gt;  <code>DWORD值</code>。为该值指定<code>NtfsDisableCompression</code>。完成后按<code>Enter</code>键。</p></li><li>右键单击<code>NtfsDisableCompression</code>条目，然后单击<code>修改</code>。要禁用压缩，请将<code>值数据</code>设置为<code>1</code>。（要再次启用压缩，请将<code>数值数据</code>设置为0或删除NftsDisableCompression）</li><li>重新启动计算机以应用更改。</li><li>现在，当尝试压缩文件夹时，将产生以下错误：<center><br><p>将属性应用于文件时发生错误：<br></p><p>{file path and filename}<br></p><p>拒绝访问。<br><img src="https://www.technipages.com/images/articles/efs-error.gif"><br></p></center></li></ol>]]></content>
    
    <summary type="html">
    
      本教程介绍如何在Microsoft Windows中禁用“文件压缩”功能。
    
    </summary>
    
      <category term="Windows" scheme="https://iitii.github.io/categories/Windows/"/>
    
    
      <category term="config" scheme="https://iitii.github.io/tags/config/"/>
    
      <category term="Windows" scheme="https://iitii.github.io/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>IDEA Angular &#39;Component&#39;错误</title>
    <link href="https://iitii.github.io/2019/03/25/1/"/>
    <id>https://iitii.github.io/2019/03/25/1/</id>
    <published>2019-03-24T16:11:44.000Z</published>
    <updated>2019-03-24T16:44:54.110Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>转载自：<a href="https://stackoverflow.com/questions/47584359/angular-error-component-x-is-not-included-in-a-module-when-declared-in-a" target="_blank" rel="noopener">https://stackoverflow.com/questions/47584359/angular-error-component-x-is-not-included-in-a-module-when-declared-in-a</a><br>虽然有这个问题，但是不影响网页正常生成  </p></blockquote><p>解决方案：</p><ol><li><p>如图，打开IDEA设置，把 <strong>Recompile on changes</strong> 勾上 :</p><p> <img src="/images/component-IDEA.png" alt="Loading"></p></li><li><p>在一级子目录下找到 <strong>tsconfig.json</strong> 并且修改 <em>compileOnSave</em> 为 true :</p><p> <img src="/images/component-tsconfig.png" alt="Loading"></p></li><li><p>回到会导致 Component 错误的地方，重新输入 “@Component”</p></li><li>Good luck! :-)</li></ol>]]></content>
    
    <summary type="html">
    
      ERROR:Component &quot;X&quot; is not include in a module and Will not be available inside a temple.consider adding it to a ngmoudle declaration.
    
    </summary>
    
      <category term="Config" scheme="https://iitii.github.io/categories/Config/"/>
    
    
      <category term="Config" scheme="https://iitii.github.io/tags/Config/"/>
    
      <category term="IDEA" scheme="https://iitii.github.io/tags/IDEA/"/>
    
  </entry>
  
  <entry>
    <title>自建简易代理</title>
    <link href="https://iitii.github.io/2019/03/17/1/"/>
    <id>https://iitii.github.io/2019/03/17/1/</id>
    <published>2019-03-17T12:25:52.000Z</published>
    <updated>2019-05-24T15:11:57.297Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center">智者建桥,愚者建墙</blockquote><blockquote><p>实在不会的，可以 e-mail to <a href="mailto:ccmejx@gmail.com" target="_blank" rel="noopener">ccmejx@gmail.com</a>，请求有偿帮助<br><!--这都不会的，估计脑子有点问题--></p></blockquote><div class="note danger">            <p>若链接失效，不考虑补链 </p>          </div>  <h3 id="为什么需要代理？"><a href="#为什么需要代理？" class="headerlink" title="为什么需要代理？"></a>为什么需要代理？</h3><!--沙雕问题，律师函警告--><center><br><img src="/images/shadiao.jpg" width="200px" height="250px"><br><!--<p>破坏计算机信息系统罪</p>--><br></center><h3 id="滥用-代理会发生什么？"><a href="#滥用-代理会发生什么？" class="headerlink" title="滥用 代理会发生什么？"></a><strong>滥用</strong> 代理会发生什么？</h3><ul><li>喝茶</li></ul><h3 id="前提要求"><a href="#前提要求" class="headerlink" title="前提要求"></a>前提要求</h3><ul><li>有一台VPS</li><li>有基本文字阅读能力</li></ul><h3 id="连接VPS"><a href="#连接VPS" class="headerlink" title="连接VPS"></a>连接VPS</h3><ul><li>使用openssh,putty等进行连接</li><li>直接使用商家提供的console进行连接</li><li>特别注意，在输入密码的时候，终端无回显</li><li>实在不会的，可以 e-mail to <a href="mailto:ccmejx@gmail.com" target="_blank" rel="noopener">ccmejx@gmail.com</a>，请求有偿帮助</li></ul><!--这都不会的，估计脑子有点问题--><h3 id="常用代理搭建方式"><a href="#常用代理搭建方式" class="headerlink" title="常用代理搭建方式"></a>常用代理搭建方式</h3><blockquote><p>声明：ssr, ss, mtproxy一键脚本均采用逗比的一键脚本</p></blockquote><h4 id="v2ray"><a href="#v2ray" class="headerlink" title="v2ray"></a>v2ray</h4><blockquote><p>v2ray内建支持 Mtproxy</p></blockquote><h5 id="官方go脚本"><a href="#官方go脚本" class="headerlink" title="官方go脚本"></a>官方go脚本</h5><blockquote><p>安装：<br> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://install.direct/go.sh)</span><br></pre></td></tr></table></figure></div></p></blockquote><p>使用官方脚本可以参考以下步骤：</p><blockquote><p>不清楚的请使用一键脚本<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://install.direct/go.sh)  </span><br><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/IITII/Useless/master/v2ray-config.json</span><br><span class="line">mv ./v2ray-config.json /etc/v2ray/config.json</span><br><span class="line">systemctl restart v2ray &amp;&amp; systemctl status v2ray</span><br></pre></td></tr></table></figure></div></p></blockquote><h5 id="multi-v2ray一键脚本"><a href="#multi-v2ray一键脚本" class="headerlink" title="multi-v2ray一键脚本"></a><a href="https://github.com/Jrohy/multi-v2ray" target="_blank" rel="noopener">multi-v2ray</a>一键脚本</h5><h6 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h6><ul><li>V2ray &amp;&amp; Iptables 流量分析</li><li>多端口与用户管理</li><li>动态端口</li><li>禁止BT</li><li>Range port</li><li>TcpFastOpen</li><li>Vmess/Socks5/MTproto 链接分享</li><li>支持的协议类型:<ul><li>TCP</li><li>Fake http</li><li>WebSocket</li><li>mkcp</li><li>mKCP + srtp</li><li>mKCP + utp</li><li>mKCP + wechat-video</li><li>mKCP + dtls</li><li>mKCP + wireguard</li><li>HTTP/2</li><li>Socks5</li><li>MTProto</li><li>Shadowsocks</li><li>Quic</li></ul></li></ul><h6 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h6><p>new install<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source &lt;(curl -sL https://git.io/fNgqx)</span><br></pre></td></tr></table></figure></div></p><p>keep profile to update<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source &lt;(curl -sL https://git.io/fNgqx) -k</span><br></pre></td></tr></table></figure></div></p><p>uninstall<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source &lt;(curl -sL https://git.io/fNgqx) --remove</span><br></pre></td></tr></table></figure></div></p><h4 id="SSR"><a href="#SSR" class="headerlink" title="SSR"></a>SSR</h4><ul><li>支持 限制 用户速度</li><li>支持 限制 端口设备数</li><li>支持 显示 当前连接IP</li><li>支持 显示 SS/SSR连接+二维码</li><li>支持 切换管理 单/多端口</li><li>支持 一键安装 锐速</li><li>支持 一键安装 BBR</li><li>支持 一键封禁 垃圾邮件(SMAP)/BT/PT  </li></ul><p>下载安装：</p><p>单用户：<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/ssr.sh &amp;&amp; chmod +x ssr.sh &amp;&amp; bash ssr.sh</span><br></pre></td></tr></table></figure></div></p><p>多用户：<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/ssrmu.sh &amp;&amp; chmod +x ssrmu.sh &amp;&amp; bash ssrmu.sh</span><br></pre></td></tr></table></figure></div></p><h4 id="SS"><a href="#SS" class="headerlink" title="SS"></a>SS</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/ss-go.sh &amp;&amp; chmod +x ss-go.sh &amp;&amp; bash ss-go.sh</span><br></pre></td></tr></table></figure></div><h4 id="Mtproxy"><a href="#Mtproxy" class="headerlink" title="Mtproxy"></a>Mtproxy</h4><p>一般版本：<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/mtproxy.sh &amp;&amp; chmod +x mtproxy.sh &amp;&amp; bash mtproxy.sh</span><br></pre></td></tr></table></figure></div></p><p>Go语言版本：<br><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/mtproxy_go.sh &amp;&amp; chmod +x mtproxy_go.sh &amp;&amp; bash mtproxy_go.sh</span><br></pre></td></tr></table></figure></div></p><h4 id="BBR"><a href="#BBR" class="headerlink" title="BBR"></a>BBR</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/bbr.sh &amp;&amp; chmod +x bbr.sh &amp;&amp; bash bbr.sh</span><br></pre></td></tr></table></figure></div><h3 id="生成属于自己的订阅"><a href="#生成属于自己的订阅" class="headerlink" title="生成属于自己的订阅"></a>生成属于自己的订阅</h3><ul><li>可以参考我这篇博文：<a href="https://iitii.github.io/2019/01/22/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E8%AE%A2%E9%98%85/">搭建个人订阅</a></li></ul><h3 id="关于代理的使用与常见问题的汇总"><a href="#关于代理的使用与常见问题的汇总" class="headerlink" title="关于代理的使用与常见问题的汇总"></a>关于代理的使用与常见问题的汇总</h3><ul><li>参见：<a href="https://moe.best/tutorial/shadowsocksr.html" target="_blank" rel="noopener">[ShadowsocksR] 大概是萌新也看得懂的SSR功能详细介绍&amp;使用教程</a></li></ul><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul><li>goproxy</li><li>frp</li><li><a href="https://github.com/Anankke/ss-panel-v3-mod_Uim" target="_blank" rel="noopener">ss panel v3 mod</a></li></ul><p>可以参考我这篇博文：<a href="https://iitii.github.io/2019/02/13/1/">内网穿透</a></p><blockquote class="blockquote-center">无知亦无得</blockquote>]]></content>
    
    <summary type="html">
    
      24字真言：富强、民主、文明、和谐，自由、平等、公正、法治，爱国、敬业、诚信、友善
    
    </summary>
    
      <category term="proxy" scheme="https://iitii.github.io/categories/proxy/"/>
    
    
      <category term="proxy" scheme="https://iitii.github.io/tags/proxy/"/>
    
  </entry>
  
  <entry>
    <title>Hexo跳过指定文件的渲染</title>
    <link href="https://iitii.github.io/2019/02/15/1/"/>
    <id>https://iitii.github.io/2019/02/15/1/</id>
    <published>2019-02-15T06:54:29.000Z</published>
    <updated>2019-02-15T07:54:38.987Z</updated>
    
    <content type="html"><![CDATA[<h3 id="关于hexo的-config-yml配置，官方文档中："><a href="#关于hexo的-config-yml配置，官方文档中：" class="headerlink" title="关于hexo的_config.yml配置，官方文档中："></a>关于hexo的<code>_config.yml</code>配置，官方文档中：</h3><ul><li><p>skip_render：跳过指定文件的渲染，您可使用 <code>glob</code> 表达式来匹配路径。 </p><ol><li><p>未说明具体该怎么配置  </p></li><li><p>修改的<code>_config.yml</code>配置文件应为站点文件夹下的，而非主题文件夹下的<code>_config.yml</code>配置文件  </p></li><li>可以直接 <em><code>Ctrl + F</code></em> 查找 <code>skip_render</code> 关键字</li></ol></li></ul><h3 id="跳过单文件"><a href="#跳过单文件" class="headerlink" title="跳过单文件"></a>跳过单文件</h3><ul><li><p>如果要跳过source文件夹下的test.html，可以这样配置：</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> <span class="string">test.html</span></span><br></pre></td></tr></table></figure></div><p>  or</p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> <span class="string">[test.html]</span></span><br></pre></td></tr></table></figure></div></li></ul><blockquote><p>注意，千万不要手贱加上个/写成/test.html，这里只能填相对于source文件夹的相对路径。</p></blockquote><h3 id="跳过多文件"><a href="#跳过多文件" class="headerlink" title="跳过多文件"></a>跳过多文件</h3><ol><li><p>如果要忽略source下的test文件夹下所有文件，可以这样配置：</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> <span class="string">test/*</span></span><br></pre></td></tr></table></figure></div><p> or</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> <span class="string">[test/*]</span></span><br></pre></td></tr></table></figure></div></li><li><p>如果要忽略source下的test文件夹下.html文件，可以这样配置：</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> <span class="string">test/*.html</span></span><br></pre></td></tr></table></figure></div><p> or</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> <span class="string">[test/*.html]</span></span><br></pre></td></tr></table></figure></div></li><li><p>如果要忽略source下的test文件夹下所有文件和目录，可以这样配置：</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> <span class="string">test/**</span></span><br></pre></td></tr></table></figure></div><p> or</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> <span class="string">[test/**]</span></span><br></pre></td></tr></table></figure></div></li><li><p>如果要忽略多个路径的文件或目录，可以这样配置：</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">test.html</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">'*.html'</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">test/**</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">test/*</span></span><br></pre></td></tr></table></figure></div><p> or</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> <span class="string">[test.html,</span> <span class="string">'*.html'</span><span class="string">,</span> <span class="string">test/**,</span> <span class="string">test/*]</span></span><br></pre></td></tr></table></figure></div></li></ol><h3 id="参见："><a href="#参见：" class="headerlink" title="参见："></a>参见：</h3><ul><li><a href="https://github.com/hexojs/hexo/issues/1146" target="_blank" rel="noopener">如何不处理source目录下某个子目录的所有文件，仅仅是将其copy到public目录中对应目录？</a></li></ul>]]></content>
    
    <summary type="html">
    
      有的时候想要放点私货。直接放在source文件夹下面吧，会被Hexo渲染掉。直接放在public文件下面，每次执行完hexo clean又什么都没了。这时候我们就需要跳过指定文件的渲染了
    
    </summary>
    
      <category term="Hexo" scheme="https://iitii.github.io/categories/Hexo/"/>
    
    
      <category term="Hexo" scheme="https://iitii.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>内网穿透</title>
    <link href="https://iitii.github.io/2019/02/13/1/"/>
    <id>https://iitii.github.io/2019/02/13/1/</id>
    <published>2019-02-13T15:46:15.000Z</published>
    <updated>2019-05-11T08:50:09.148Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center">梦一场</blockquote><hr><ul><li><em>Update at Sat May 11 16:49:47 CST 2019</em><blockquote><p><a href="https://liam.page/2018/04/11/break-firewall-by-the-use-of-SSH-tunnel/" target="_blank" rel="noopener">利用正反 SSH 隧道穿透防火墙访问内网服务器</a></p></blockquote></li></ul><hr><h3 id="Announce"><a href="#Announce" class="headerlink" title="Announce:"></a>Announce:</h3><ol><li><p>工具：实现内网穿透，我目前比较推荐frp和goproxy</p></li><li><p>Github: frp: <a href="https://github.com/fatedier/frp" target="_blank" rel="noopener">https://github.com/fatedier/frp</a> </p></li><li>Github: goproxy: <a href="https://github.com/snail007/goproxy" target="_blank" rel="noopener">https://github.com/snail007/goproxy</a></li><li>frp 是一个可用于内网穿透的高性能的反向代理应用，支持 tcp, udp 协议，为 http 和 https 应用协议提供了额外的能力，且尝试性支持了点对点穿透。</li><li>goproxy是基于golang实现的高性能http,https,websocket,tcp,udp,socks5,ss代理服务器,支持正向代理、反向代理、透明代理、内网穿透、TCP/UDP端口映射、SSH中转、TLS加密传输、协议转换、防污染DNS代理。</li><li>对于内网穿透来说frp比goproxy更功能更多，goproxy更偏向于网络代理</li><li>goproxy内置了长驻后台的功能，如果想后台运行proxy,命令行可以关闭,只需要在命令最后加上<code>--daemon</code>参数即可。如果想防止应用异常退出，可以使用<code>--forever</code>参数，proxy会fork子进程,然后监控子进程,如果子进程异常退出,5秒后重启子进程，该参数配合后台运行参数<code>--daemon</code>和日志参数<code>--log</code>,可以保障proxy一直在后台执行不会因为意外退出,而且可以通过日志文件看到proxy的输出日志内容</li></ol><h3 id="Goproxy"><a href="#Goproxy" class="headerlink" title="Goproxy"></a>Goproxy</h3><h4 id="下载-amp-安装"><a href="#下载-amp-安装" class="headerlink" title="下载 &amp; 安装"></a>下载 &amp; 安装</h4><h5 id="自动安装"><a href="#自动安装" class="headerlink" title="自动安装"></a>自动安装</h5><ul><li><p>如果你的VPS是linux64位的系统,那么只需要执行下面一句,就可以完成自动安装和配置  </p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://raw.githubusercontent.com/snail007/goproxy/master/install_auto.sh | bash</span><br></pre></td></tr></table></figure></div><blockquote><p>安装完成,配置目录是/etc/proxy,更详细的使用方法请参考手册目录,进一步了解你想要使用的功能.<br>如果安装失败或者你的vps不是linux64位系统,请按照下面的半自动步骤安装:  </p></blockquote></li></ul><h5 id="手动安装"><a href="#手动安装" class="headerlink" title="手动安装"></a>手动安装</h5><ol><li><p>下载proxy<br>下载地址: <a href="https://github.com/snail007/goproxy/releases/latest" target="_blank" rel="noopener">https://github.com/snail007/goproxy/releases/latest</a><br>下面以v6.2为例,如果有最新版,请使用最新版链接.   </p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /root/proxy/  </span><br><span class="line">wget https://github.com/snail007/goproxy/releases/download/v6.2/proxy-linux-amd64.tar.gz</span><br></pre></td></tr></table></figure></div></li><li><p>下载自动安装脚本</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /root/proxy/  </span><br><span class="line">wget https://raw.githubusercontent.com/snail007/goproxy/master/install.sh </span><br><span class="line">chmod +x install.sh  </span><br><span class="line">./install.sh</span><br></pre></td></tr></table></figure></div></li></ol><h5 id="Docker安装"><a href="#Docker安装" class="headerlink" title="Docker安装"></a>Docker安装</h5><ul><li><p><a href="https://hub.docker.com/r/snail007/goproxy" target="_blank" rel="noopener">docker</a>  </p></li><li><p>项目根目录的Dockerfile文件用来构建,使用golang 1.10.3,构建基于goproxy的master分支最新版本,  </p></li><li><p>全部大小17.3MB,默认情况下使用master分支,不过可以通过修改配置文件Dockerfile<br>或者使用参数GOPROXY_VERSION指定构建的goproxy版本. </p>  <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ARG GOPROXY_VERSION=v5.3</span><br></pre></td></tr></table></figure></div></li></ul><p>步骤:  </p><ol><li><p>克隆仓库,然后cd进入仓库文件夹,执行:</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker build .</span><br></pre></td></tr></table></figure></div></li><li><p>镜像打标签:</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker tag &lt;上一步的结果ID&gt; snail007/goproxy:latest</span><br></pre></td></tr></table></figure></div></li><li><p>运行<br>参数OPTS的值就是传递给proxy的所有参数<br>比如下面的例子启动了一个http服务:</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -d --restart=always --name goproxy -e OPTS=&quot;http -p :33080&quot; -p 33080:33080 snail007/goproxy:latest</span><br></pre></td></tr></table></figure></div></li><li><p>查看日志:</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker logs -f goproxy</span><br></pre></td></tr></table></figure></div></li></ol><blockquote><p>Windows 直接下载 <code>*.exe</code> 版就行了</p></blockquote><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><blockquote><p>http,tcp,udp代理过程会和上级通讯,为了安全我们采用加密通讯,当然可以选择不加密通信通讯,本教程所有和上级通讯都采用加密,需要证书文件.<br>通过下面的命令生成自签名的证书和key文件。<code>proxy keygen -C proxy</code>  </p></blockquote><h5 id="TCP普通用法"><a href="#TCP普通用法" class="headerlink" title="TCP普通用法"></a>TCP普通用法</h5><ul><li>需求：可以通过服务器的28080端口访问到位于本地服务器上的web服务</li><li>条件：<ul><li>本地机器A提供了web服务80端口  </li></ul><ul><li>有VPS一个,公网IP:22.22.22.22</li></ul></li></ul><ul><li><p>步骤：  </p><ol><li><p>在vps上执行  </p>   <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">proxy bridge -p <span class="string">":33080"</span> -C proxy.crt -K proxy.key</span><br><span class="line">proxy server -r <span class="string">":28080@:80"</span> -P <span class="string">"127.0.0.1:33080"</span> -C proxy.crt -K proxy.key</span><br></pre></td></tr></table></figure></div></li><li><p>在本地机器A上面执行  </p>   <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy client -P <span class="string">"22.22.22.22:33080"</span> -C proxy.crt -K proxy.key`</span><br></pre></td></tr></table></figure></div></li><li><p>完成  </p></li></ol></li></ul><h5 id="UDP普通用法"><a href="#UDP普通用法" class="headerlink" title="UDP普通用法"></a>UDP普通用法</h5><ul><li><p>背景:  </p><ul><li>公司机器A提供了DNS解析服务,UDP:53端口  </li><li>有VPS一个,公网IP:22.22.22.22  </li></ul></li><li><p>需求:<br>  在家里能够通过设置本地dns为22.22.22.22,使用公司机器A进行域名解析服务.  </p></li><li><p>步骤:  </p><ol><li><p>在vps上执行 </p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">proxy bridge -p <span class="string">":33080"</span> -C proxy.crt -K proxy.key</span><br><span class="line">proxy server --udp -r <span class="string">":53@:53"</span> -P <span class="string">"127.0.0.1:33080"</span> -C proxy.crt -K proxy.key</span><br></pre></td></tr></table></figure></div></li><li><p>在公司机器A上面执行 </p>   <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy client -P <span class="string">"22.22.22.22:33080"</span> -C proxy.crt -K proxy.key</span><br></pre></td></tr></table></figure></div></li><li><p>完成    </p></li></ol></li></ul><h3 id="frp"><a href="#frp" class="headerlink" title="frp"></a>frp</h3><h4 id="下载-amp-安装-1"><a href="#下载-amp-安装-1" class="headerlink" title="下载 &amp; 安装"></a>下载 &amp; 安装</h4><ul><li><p>根据对应的操作系统及架构，从 <a href="https://github.com/fatedier/frp/releases" target="_blank" rel="noopener">Release</a> 页面下载最新版本的程序。</p></li><li><p>将 <strong>frps</strong> 及 <strong>frps.ini</strong> 放到具有公网 IP 的机器上。</p></li><li><p>将 <strong>frpc</strong> 及 <strong>frpc.ini</strong> 放到处于内网环境的机器上。</p></li></ul><h4 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h4><hr><p><strong>Contents</strong></p><ul><li><a href="#通过自定义域名访问部署于内网的web服务">通过自定义域名访问部署于内网的web服务</a></li><li><a href="#通过ssh访问内网机器">通过ssh访问内网机器</a></li><li><a href="#转发DNS查询请求">转发DNS查询请求</a></li><li><a href="#对外提供简单的文件访问服务">对外提供简单的文件访问服务</a></li><li><a href="#安全地暴露内网服务">安全地暴露内网服务</a></li><li><a href="#点对点内网穿透">点对点内网穿透</a></li><li><a href="#总结">总结</a></li></ul><hr><h5 id="通过自定义域名访问部署于内网的web服务"><a href="#通过自定义域名访问部署于内网的web服务" class="headerlink" title="通过自定义域名访问部署于内网的web服务"></a>通过自定义域名访问部署于内网的web服务</h5><p>有时想要让其他人通过域名访问或者测试我们在本地搭建的 web 服务，但是由于本地机器没有公网 IP，无法将域名解析到本地的机器，通过 frp 就可以实现这一功能，以下示例为 http 服务，https 服务配置方法相同， vhost_http_port 替换为 vhost_https_port， type 设置为 https 即可。</p><ol><li><p>修改 frps.ini 文件，设置 http 访问端口为 8080：</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="INI"><figure class="iseeu highlight /ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frps.ini</span></span><br><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">bind_port</span> = <span class="number">7000</span></span><br><span class="line"><span class="attr">vhost_http_port</span> = <span class="number">8080</span></span><br></pre></td></tr></table></figure></div></li><li><p>启动 frps；</p><p> <code>./frps -c ./frps.ini</code></p></li><li><p>修改 frpc.ini 文件，假设 frps 所在的服务器的 IP 为 x.x.x.x，local_port 为本地机器上 web 服务对应的端口, 绑定自定义域名 <code>www.yourdomain.com</code>:</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="INI"><figure class="iseeu highlight /ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frpc.ini</span></span><br><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">server_addr</span> = x.x.x.x</span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span></span><br><span class="line"></span><br><span class="line"><span class="section">[web]</span></span><br><span class="line"><span class="attr">type</span> = http</span><br><span class="line"><span class="attr">local_port</span> = <span class="number">80</span></span><br><span class="line"><span class="attr">custom_domains</span> = www.yourdomain.com</span><br></pre></td></tr></table></figure></div></li><li><p>启动 frpc：</p><p> <code>./frpc -c ./frpc.ini</code></p></li><li><p>将 <code>www.yourdomain.com</code> 的域名 A 记录解析到 IP <code>x.x.x.x</code>，如果服务器已经有对应的域名，也可以将 CNAME 记录解析到服务器原先的域名。</p></li><li><p>通过浏览器访问 <code>http://www.yourdomain.com:8080</code> 即可访问到处于内网机器上的 web 服务。</p></li></ol><h5 id="通过ssh访问内网机器"><a href="#通过ssh访问内网机器" class="headerlink" title="通过ssh访问内网机器"></a>通过ssh访问内网机器</h5><ol><li><p>修改 frps.ini 文件，这里使用了最简化的配置：</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="INI"><figure class="iseeu highlight /ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frps.ini</span></span><br><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">bind_port</span> = <span class="number">7000</span></span><br></pre></td></tr></table></figure></div></li><li><p>启动 frps：</p><p> <code>./frps -c ./frps.ini</code></p></li><li><p>修改 frpc.ini 文件，假设 frps 所在服务器的公网 IP 为 x.x.x.x；</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="INI"><figure class="iseeu highlight /ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frpc.ini</span></span><br><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">server_addr</span> = x.x.x.x</span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span></span><br><span class="line"></span><br><span class="line"><span class="section">[ssh]</span></span><br><span class="line"><span class="attr">type</span> = tcp</span><br><span class="line"><span class="attr">local_ip</span> = <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">local_port</span> = <span class="number">22</span></span><br><span class="line"><span class="attr">remote_port</span> = <span class="number">6000</span></span><br></pre></td></tr></table></figure></div></li><li><p>启动 frpc：</p><p> <code>./frpc -c ./frpc.ini</code></p></li><li><p>通过 ssh 访问内网机器，假设用户名为 test：</p><p> <code>ssh -oPort=6000 test@x.x.x.x</code></p></li></ol><h5 id="转发DNS查询请求"><a href="#转发DNS查询请求" class="headerlink" title="转发DNS查询请求"></a>转发DNS查询请求</h5><p>DNS 查询请求通常使用 UDP 协议，frp 支持对内网 UDP 服务的穿透，配置方式和 TCP 基本一致。</p><ol><li><p><a href="#通过ssh访问内网机器">frps 的部署步骤同上。</a></p></li><li><p>启动 frps：</p><p> <code>./frps -c ./frps.ini</code></p></li><li><p>修改 frpc.ini 文件，设置 frps 所在服务器的 IP 为 x.x.x.x，转发到 Google 的 DNS 查询服务器 <code>8.8.8.8</code> 的 udp 53 端口：</p> <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="INI"><figure class="iseeu highlight /ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frpc.ini</span></span><br><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">server_addr</span> = x.x.x.x</span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span></span><br><span class="line"></span><br><span class="line"><span class="section">[dns]</span></span><br><span class="line"><span class="attr">type</span> = udp</span><br><span class="line"><span class="attr">local_ip</span> = <span class="number">8.8</span>.<span class="number">8.8</span></span><br><span class="line"><span class="attr">local_port</span> = <span class="number">53</span></span><br><span class="line"><span class="attr">remote_port</span> = <span class="number">6000</span></span><br></pre></td></tr></table></figure></div></li><li><p>启动 frpc：</p><p> <code>./frpc -c ./frpc.ini</code></p></li><li><p>通过 dig 测试 UDP 包转发是否成功，预期会返回 <code>www.google.com</code> 域名的解析结果：</p><p> <code>dig @x.x.x.x -p 6000 www.google.com</code></p></li></ol><h5 id="对外提供简单的文件访问服务"><a href="#对外提供简单的文件访问服务" class="headerlink" title="对外提供简单的文件访问服务"></a>对外提供简单的文件访问服务</h5><ul><li><p>通过 <code>static_file</code> 插件可以对外提供一个简单的基于 HTTP 的文件访问服务。</p></li><li><p><a href="#通过ssh访问内网机器">frps 的部署步骤同上。</a></p><ol><li><p>启动 frpc，启用 <code>static_file</code> 插件，配置如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="INI"><figure class="iseeu highlight /ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frpc.ini</span></span><br><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">server_addr</span> = x.x.x.x</span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span></span><br><span class="line"></span><br><span class="line"><span class="section">[test_static_file]</span></span><br><span class="line"><span class="attr">type</span> = tcp</span><br><span class="line"><span class="attr">remote_port</span> = <span class="number">6000</span></span><br><span class="line"><span class="attr">plugin</span> = static_file</span><br><span class="line"><span class="comment"># 要对外暴露的文件目录</span></span><br><span class="line"><span class="attr">plugin_local_path</span> = /tmp/file</span><br><span class="line"><span class="comment"># 访问 url 中会被去除的前缀，保留的内容即为要访问的文件路径</span></span><br><span class="line"><span class="attr">plugin_strip_prefix</span> = static</span><br><span class="line"><span class="attr">plugin_http_user</span> = abc</span><br><span class="line"><span class="attr">plugin_http_passwd</span> = abc</span><br></pre></td></tr></table></figure></div></li></ol></li></ul><ol start="2"><li>通过浏览器访问 <code>http://x.x.x.x:6000/static/</code> 来查看位于 <code>/tmp/file</code> 目录下的文件，会要求输入已设置好的用户名和密码。</li></ol><h5 id="安全地暴露内网服务"><a href="#安全地暴露内网服务" class="headerlink" title="安全地暴露内网服务"></a>安全地暴露内网服务</h5><ul><li><p>对于某些服务来说如果直接暴露于公网上将会存在安全隐患。</p></li><li><p>使用 <strong>stcp(secret tcp)</strong> 类型的代理可以避免让任何人都能访问到要穿透的服务，但是访问者也需要运行另外一个 frpc。</p></li><li><p>以下示例将会创建一个只有自己能访问到的 ssh 服务代理。</p><ul><li><p><a href="#通过ssh访问内网机器">frps 的部署步骤同上。</a></p><ol><li><p>启动 frpc，转发内网的 ssh 服务，配置如下，不需要指定远程端口：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="INI"><figure class="iseeu highlight /ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frpc.ini</span></span><br><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">server_addr</span> = x.x.x.x</span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span></span><br><span class="line"></span><br><span class="line"><span class="section">[secret_ssh]</span></span><br><span class="line"><span class="attr">type</span> = stcp</span><br><span class="line"><span class="comment"># 只有 sk 一致的用户才能访问到此服务</span></span><br><span class="line"><span class="attr">sk</span> = abcdefg</span><br><span class="line"><span class="attr">local_ip</span> = <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">local_port</span> = <span class="number">22</span></span><br></pre></td></tr></table></figure></div></li><li><p>在要访问这个服务的机器上启动另外一个 frpc，配置如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="INI"><figure class="iseeu highlight /ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frpc.ini</span></span><br><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">server_addr</span> = x.x.x.x</span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span></span><br><span class="line"></span><br><span class="line"><span class="section">[secret_ssh_visitor]</span></span><br><span class="line"><span class="attr">type</span> = stcp</span><br><span class="line"><span class="comment"># stcp 的访问者</span></span><br><span class="line"><span class="attr">role</span> = visitor</span><br><span class="line"><span class="comment"># 要访问的 stcp 代理的名字</span></span><br><span class="line"><span class="attr">server_name</span> = secret_ssh</span><br><span class="line"><span class="attr">sk</span> = abcdefg</span><br><span class="line"><span class="comment"># 绑定本地端口用于访问 ssh 服务</span></span><br><span class="line"><span class="attr">bind_addr</span> = <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">bind_port</span> = <span class="number">6000</span></span><br></pre></td></tr></table></figure></div></li><li><p>通过 ssh 访问内网机器，假设用户名为 test：</p><p><code>ssh -oPort=6000 test@127.0.0.1</code></p></li></ol></li></ul></li></ul><h5 id="点对点内网穿透"><a href="#点对点内网穿透" class="headerlink" title="点对点内网穿透"></a>点对点内网穿透</h5><ul><li><p>frp 提供了一种新的代理类型 <strong>xtcp</strong> 用于应对在希望传输大量数据且流量不经过服务器的场景。</p></li><li><p>使用方式同 <strong>stcp</strong> 类似，需要在两边都部署上 frpc 用于建立直接的连接。</p></li><li><p>目前处于开发的初级阶段，并不能穿透所有类型的 NAT 设备，所以穿透成功率较低。穿透失败时可以尝试 <strong>stcp</strong> 的方式。</p><ol><li><p>frps 除正常配置外需要额外配置一个 udp 端口用于支持该类型的客户端:</p>   <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="INI"><figure class="iseeu highlight /ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frps.ini</span></span><br><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">bind_port</span> = <span class="number">7000</span></span><br><span class="line"><span class="attr">bind_udp_port</span> = <span class="number">7001</span></span><br></pre></td></tr></table></figure></div></li><li><p>启动 frpc，转发内网的 ssh 服务，配置如下，不需要指定远程端口:</p>   <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="INI"><figure class="iseeu highlight /ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frpc.ini</span></span><br><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">server_addr</span> = x.x.x.x</span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span></span><br><span class="line"></span><br><span class="line"><span class="section">[p2p_ssh]</span></span><br><span class="line"><span class="attr">type</span> = xtcp</span><br><span class="line"><span class="comment"># 只有 sk 一致的用户才能访问到此服务</span></span><br><span class="line"><span class="attr">sk</span> = abcdefg</span><br><span class="line"><span class="attr">local_ip</span> = <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">local_port</span> = <span class="number">22</span></span><br></pre></td></tr></table></figure></div></li><li><p>在要访问这个服务的机器上启动另外一个 frpc，配置如下:</p>   <div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="INI"><figure class="iseeu highlight /ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># frpc.ini</span></span><br><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">server_addr</span> = x.x.x.x</span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span></span><br><span class="line"></span><br><span class="line"><span class="section">[p2p_ssh_visitor]</span></span><br><span class="line"><span class="attr">type</span> = xtcp</span><br><span class="line"><span class="comment"># xtcp 的访问者</span></span><br><span class="line"><span class="attr">role</span> = visitor</span><br><span class="line"><span class="comment"># 要访问的 xtcp 代理的名字</span></span><br><span class="line"><span class="attr">server_name</span> = p2p_ssh</span><br><span class="line"><span class="attr">sk</span> = abcdefg</span><br><span class="line"><span class="comment"># 绑定本地端口用于访问 ssh 服务</span></span><br><span class="line"><span class="attr">bind_addr</span> = <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">bind_port</span> = <span class="number">6000</span></span><br></pre></td></tr></table></figure></div></li><li><p>通过 ssh 访问内网机器，假设用户名为 test:</p><p>   <code>ssh -oPort=6000 test@127.0.0.1</code></p></li></ol></li></ul><h5 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h5><ol><li><p>如果我们想要frp承载TCP类型的流量，可以参考 <a href="#通过ssh访问内网机器">通过ssh访问内网机器</a>，只需要将<code>frpc</code>配置文件里面的端口修改为需要进行代理的端口就行了。再将第6行修改一下就行了，中括号里面内容虽然可以随意填，但是为了鲜明，最好<strong>认真命名</strong>。</p></li><li><p>UDP可以参考 <a href="#转发DNS查询请求">转发DNS查询请求</a></p></li></ol><hr><blockquote><p>frp 配置文件支持使用系统环境变量进行模版渲染，模版格式采用 Go 的标准格式。<br>由于 frp 目前支持的功能和配置项较多，未在文档中列出的功能可以从完整的示例配置文件中发现。  </p></blockquote><ul><li><a href="https://github.com/fatedier/frp/blob/master/conf/frps_full.ini" target="_blank" rel="noopener">frps 完整配置文件</a></li><li><a href="https://github.com/fatedier/frp/blob/master/conf/frpc_full.ini" target="_blank" rel="noopener">frpc 完整配置文件</a>  </li></ul><hr><h3 id="参见："><a href="#参见：" class="headerlink" title="参见："></a>参见：</h3><ol><li>frp README: <a href="https://github.com/fatedier/frp/blob/master/README_zh.md" target="_blank" rel="noopener">https://github.com/fatedier/frp/blob/master/README.md</a></li><li>goproxy README: <a href="https://github.com/snail007/goproxy/blob/master/README.md" target="_blank" rel="noopener">https://github.com/snail007/goproxy/blob/master/README.md</a></li></ol><blockquote class="blockquote-center"><img alt="2019年情人节" height="33" src="/images/valentines-day-2019-4848332248711168-s.png" title="2019年情人节" width="92" border="0" onload="window.lol&amp;&amp;lol()" data-atf="3"></blockquote>]]></content>
    
    <summary type="html">
    
      有的时候我们需要在外网访问区域网资源、或者想要和朋友进行区域网联机而又不想用花生壳一类的商业软件时，内网穿透显得尤为重要、有效。而且进行内网穿透时所有的数据都会流经服务器，而对于未经验证的第三方数据安全也是一个问题, 这时候内网穿透就显得尤为重要
    
    </summary>
    
      <category term="proxy" scheme="https://iitii.github.io/categories/proxy/"/>
    
      <category term="network" scheme="https://iitii.github.io/categories/proxy/network/"/>
    
    
      <category term="proxy" scheme="https://iitii.github.io/tags/proxy/"/>
    
      <category term="goproxy" scheme="https://iitii.github.io/tags/goproxy/"/>
    
      <category term="frp" scheme="https://iitii.github.io/tags/frp/"/>
    
      <category term="network" scheme="https://iitii.github.io/tags/network/"/>
    
  </entry>
  
  <entry>
    <title>NULL</title>
    <link href="https://iitii.github.io/2019/02/05/1/"/>
    <id>https://iitii.github.io/2019/02/05/1/</id>
    <published>2019-02-04T17:18:04.000Z</published>
    <updated>2019-05-24T15:09:35.287Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/lunar-new-year-2019.gif" alt="happy_new_year"></p><center><small>本图片来自Google，侵删</small></center>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/images/lunar-new-year-2019.gif&quot; alt=&quot;happy_new_year&quot;&gt;&lt;/p&gt;
&lt;center&gt;&lt;small&gt;本图片来自Google，侵删&lt;/small&gt;&lt;/center&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>关于本博客的搭建</title>
    <link href="https://iitii.github.io/2019/02/04/1/"/>
    <id>https://iitii.github.io/2019/02/04/1/</id>
    <published>2019-02-04T03:24:21.000Z</published>
    <updated>2019-07-04T08:44:08.940Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>劝退三连，不推荐新手尝试，新手请用<a href="https://cn.wordpress.org/" target="_blank" rel="noopener">WordPress</a>，<a href="http://typecho.org/" target="_blank" rel="noopener">Typecho</a>等动态博客建站，不想折腾的可以使用国内现成平台，如： <del>CSDN（广告比名气多，个人看法）</del>，<a href="https://www.jianshu.com/" target="_blank" rel="noopener">简书</a> </p></blockquote><hr><h3 id="1-现成的轮子"><a href="#1-现成的轮子" class="headerlink" title="1. 现成的轮子"></a>1. 现成的轮子</h3><h4 id="1-Hexo官方文档"><a href="#1-Hexo官方文档" class="headerlink" title="1. Hexo官方文档"></a>1. <a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Hexo官方文档</a></h4><h4 id="2-NexT主题文档"><a href="#2-NexT主题文档" class="headerlink" title="2. NexT主题文档"></a>2. <a href="https://theme-next.iissnan.com/theme-settings.html" target="_blank" rel="noopener">NexT主题文档</a></h4><h4 id="3-Hexo搭建博客教程-lt-–-Hexo博客搭建教程里面这个可以说是非常详细了"><a href="#3-Hexo搭建博客教程-lt-–-Hexo博客搭建教程里面这个可以说是非常详细了" class="headerlink" title="3. Hexo搭建博客教程 &lt;– Hexo博客搭建教程里面这个可以说是非常详细了"></a>3. <a href="https://thief.one/2017/03/03/Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener">Hexo搭建博客教程</a> &lt;– Hexo博客搭建教程里面这个可以说是非常详细了</h4><h4 id="4-Hexo-Next搭建个人博客（添加统计访客量以及文章阅读量）"><a href="#4-Hexo-Next搭建个人博客（添加统计访客量以及文章阅读量）" class="headerlink" title="4. Hexo-Next搭建个人博客（添加统计访客量以及文章阅读量）"></a>4. <a href="https://yfzhou.coding.me/2018/08/08/Hexo-Next%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%88%E6%B7%BB%E5%8A%A0%E7%BB%9F%E8%AE%A1%E8%AE%BF%E5%AE%A2%E9%87%8F%E4%BB%A5%E5%8F%8A%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E9%87%8F%EF%BC%89/" target="_blank" rel="noopener">Hexo-Next搭建个人博客（添加统计访客量以及文章阅读量）</a></h4><h4 id="4-图标下载-easyicon"><a href="#4-图标下载-easyicon" class="headerlink" title="4. 图标下载 easyicon"></a>4. <a href="https://www.easyicon.net/" target="_blank" rel="noopener">图标下载 easyicon</a></h4><h4 id="6-Leancloud访客统计插件重大安全漏洞修复指南"><a href="#6-Leancloud访客统计插件重大安全漏洞修复指南" class="headerlink" title="6. Leancloud访客统计插件重大安全漏洞修复指南"></a>6. <del><a href="https://leaferx.online/2018/02/11/lc-security/#5acc7b329f54542bb2384a7e" target="_blank" rel="noopener">Leancloud访客统计插件重大安全漏洞修复指南</a></del></h4><blockquote><p>其实如果只是想保证<strong>访客数量不被随意篡改</strong>的话，设置一下安全域名就OK了。这篇博文可以不看 –&gt; <a href="https://leaferx.online/2018/02/11/lc-security/#5acc7b329f54542bb2384a7e" target="_blank" rel="noopener">Leancloud访客统计插件重大安全漏洞修复指南</a></p></blockquote><hr><h3 id="2-关于搭建中的一些问题"><a href="#2-关于搭建中的一些问题" class="headerlink" title="2. 关于搭建中的一些问题"></a>2. 关于搭建中的一些问题</h3><h4 id="1-Leancloud官网"><a href="#1-Leancloud官网" class="headerlink" title="1. Leancloud官网"></a>1. <del><a href="https://leancloud.cn" target="_blank" rel="noopener">Leancloud官网</a></del></h4><h4 id="2-GitHub仓库名称"><a href="#2-GitHub仓库名称" class="headerlink" title="2. GitHub仓库名称"></a>2. GitHub仓库名称</h4><ul><li>如果想使用自己的域名而不是GitHub提供的 <strong>GitHub_username.github.io</strong> 域名的话，博客仓库的名称可以不为<strong>GitHub_username.github.io</strong><h4 id="3-操作环境及push分支"><a href="#3-操作环境及push分支" class="headerlink" title="3. 操作环境及push分支"></a>3. 操作环境及push分支</h4></li><li><p>推荐所有操作皆在<strong>git bash</strong>下进行，可以免去很多坑</p></li><li><p>push分支，填<strong>master</strong>就行，其他的如：gh-pages <del>本人未测试,自行斟酌</del></p></li><li><p><strong>git clone</strong>下来的<em>next</em>主题可能会影响博客的生成，<strong>推荐删除</strong> next主题下面的<code>.git</code>,<code>.gitignore</code>和<code>ReadME</code>文件，或者你也可以将next作为一个子模块添加到仓库中</p></li></ul><h4 id="4-关于SEO优化"><a href="#4-关于SEO优化" class="headerlink" title="4. 关于SEO优化"></a>4. 关于SEO优化</h4><ul><li>网站链接提交，传送门：<ul><li><a href="https://www.google.com/webmasters/#?modal_active=none" target="_blank" rel="noopener">Google网站站长</a></li><li><a href="https://accounts.google.com/signin/v2/identifier?service=sitemaps&amp;passive=1209600&amp;osid=1&amp;continue=https%3A%2F%2Fsearch.google.com%2Fsearch-console%2Fsitemaps%3Fresource_id%3Dhttps%3A%2F%2Fiitii.github.io%2F&amp;followup=https%3A%2F%2Fsearch.google.com%2Fsearch-console%2Fsitemaps%3Fresource_id%3Dhttps%3A%2F%2Fiitii.github.io%2F&amp;flowName=GlifWebSignIn&amp;flowEntry=ServiceLogin" target="_blank" rel="noopener">Google Search Console</a></li><li><a href="https://ziyuan.baidu.com/?castk=LTE%3D" target="_blank" rel="noopener">百度搜索资源平台</a></li></ul></li><li>Google大法好</li><li>网站所有者验证<ul><li>在<a href="https://www.google.com/webmasters/#?modal_active=none" target="_blank" rel="noopener">Google网站站长</a>登陆或注册你的Google账号，添加要验证的网站域名</li><li>验证方式（这里只说明网页添加<code>&lt;meta&gt;</code>标签的方法） 添加<code>&lt;meta&gt;</code>标签进行验证网站所有者身份，可以将Google生成的<code>&lt;meta&gt;</code>标签插入到<strong>themes\next\layout_partials\head\head.swig</strong>前面的那一堆<code>&lt;meta&gt;</code>标签后面，然后<code>hexo clean; hexo d -g</code></li><li>验证所有者身份以后，打开<a href="https://accounts.google.com/signin/v2/identifier?service=sitemaps&amp;passive=1209600&amp;osid=1&amp;continue=https%3A%2F%2Fsearch.google.com%2Fsearch-console%2Fsitemaps%3Fresource_id%3Dhttps%3A%2F%2Fiitii.github.io%2F&amp;followup=https%3A%2F%2Fsearch.google.com%2Fsearch-console%2Fsitemaps%3Fresource_id%3Dhttps%3A%2F%2Fiitii.github.io%2F&amp;flowName=GlifWebSignIn&amp;flowEntry=ServiceLogin" target="_blank" rel="noopener">Google Search Console</a>，添加资源，点击添加的域名，在左边找到站点地图，进行站点地图的手动提交</li></ul></li><li>百度，请自行尝试<br><img src="/images/lajibaidu.jpg" alt="百度"></li></ul><h4 id="5-关于permalink"><a href="#5-关于permalink" class="headerlink" title="5. 关于permalink:"></a>5. 关于<code>permalink</code>:</h4><ul><li><p>为了SEO在一定程度上的优化可以将<code>permalink</code>修改为</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#permalink:year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:title.html</span></span><br></pre></td></tr></table></figure></div></li><li><p>但是这样有个问题就是所有的博客文件<code>title.html</code>都会产生在，站点根目录下，感觉起来没有条理性，博文越多越无条理性</p></li><li><p>自定义404页面，可以将404页面的<strong>permalink</strong>修改为/404</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="number">404</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-02</span><span class="bullet">-02</span> <span class="number">21</span><span class="string">:43:19</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">/404</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></div></li></ul><h4 id="6-关闭某个页面的评论，可以在title下面加上：comments-false"><a href="#6-关闭某个页面的评论，可以在title下面加上：comments-false" class="headerlink" title="6. 关闭某个页面的评论，可以在title下面加上：comments: false"></a>6. 关闭某个页面的评论，可以在<strong>title</strong>下面加上：<code>comments: false</code></h4><h4 id="7-Deploy问题"><a href="#7-Deploy问题" class="headerlink" title="7. Deploy问题"></a>7. Deploy问题</h4><ul><li><p>如果显示fail，那应该就是你仓库名称填错了；如果显示fatal，那应该是权限问题。请检查自己是否有访问仓库的权限。检查一遍无问题以后，那应该是你电脑上存在旧的登陆状态（具体就是以前在电脑上登陆过其他账号）。</p><h5 id="清除方法："><a href="#清除方法：" class="headerlink" title="清除方法："></a>清除方法：</h5><ul><li><p>把关于GitHub关键字的凭据全部删除再重新登陆</p><p><img src="/images/hexobuild1.jpg" alt="Loading"></p><p><img src="/images/hexobuild2.png" alt="Loading"></p></li></ul></li></ul><h4 id="8-一些模板"><a href="#8-一些模板" class="headerlink" title="8. 一些模板"></a>8. 一些模板</h4><ol><li><p>邮箱验证</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hi, &#123;&#123;username&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>您需要验证应用 &#123;&#123;appname&#125;&#125; 里的帐号邮箱地址 &#123;&#123;email&#125;&#125;，请点击下列链接进行确认：<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123;link&#125;&#125;"</span> <span class="attr">style</span>=<span class="string">"display: inline-block; padding: 10px 20px; border-radius: 4px; background-color: #3090e4; color: #fff; text-decoration: none;"</span>&gt;</span>验证邮箱<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><p>评论回复</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hi, &#123;&#123;username&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">你在 &#123;&#123;appname&#125;&#125; 的评论收到了新的回复，请点击查看：</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://iitii.github.io"</span> <span class="attr">style</span>=<span class="string">"display: inline-block; padding: 10px 20px; border-radius: 4px; background-color: #3090e4; color: #fff; text-decoration: none;"</span>&gt;</span>马上查看<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></div> <center><br> <svg viewbox="0 0 74 37" width="74" height="37" preserveaspectratio="xMinYMin" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><g id="qaEJec"><path fill="#ea4335" d="M67.954 16.303c-1.33 0-2.278-.608-2.886-1.804l7.967-3.3-.27-.68c-.495-1.33-2.008-3.79-5.102-3.79-3.068 0-5.622 2.41-5.622 5.96 0 3.34 2.53 5.96 5.92 5.96 2.73 0 4.31-1.67 4.97-2.64l-2.03-1.35c-.673.98-1.6 1.64-2.93 1.64zm-.203-7.27c1.04 0 1.92.52 2.21 1.264l-5.32 2.21c-.06-2.3 1.79-3.474 3.12-3.474z"/></g><g id="YGlOvc"><path fill="#34a853" d="M58.193.67h2.564v17.44h-2.564z"/></g><g id="BWfIk"><path fill="#4285f4" d="M54.152 8.066h-.088c-.588-.697-1.716-1.33-3.136-1.33-2.98 0-5.71 2.614-5.71 5.98 0 3.338 2.73 5.933 5.71 5.933 1.42 0 2.548-.64 3.136-1.36h.088v.86c0 2.28-1.217 3.5-3.183 3.5-1.61 0-2.6-1.15-3-2.12l-2.28.94c.65 1.58 2.39 3.52 5.28 3.52 3.06 0 5.66-1.807 5.66-6.206V7.21h-2.48v.858zm-3.006 8.237c-1.804 0-3.318-1.513-3.318-3.588 0-2.1 1.514-3.635 3.318-3.635 1.784 0 3.183 1.534 3.183 3.635 0 2.075-1.4 3.588-3.19 3.588z"/></g><g id="e6m3fd"><path fill="#fbbc05" d="M38.17 6.735c-3.28 0-5.953 2.506-5.953 5.96 0 3.432 2.673 5.96 5.954 5.96 3.29 0 5.96-2.528 5.96-5.96 0-3.46-2.67-5.96-5.95-5.96zm0 9.568c-1.798 0-3.348-1.487-3.348-3.61 0-2.14 1.55-3.608 3.35-3.608s3.348 1.467 3.348 3.61c0 2.116-1.55 3.608-3.35 3.608z"/></g><g id="vbkDmc"><path fill="#ea4335" d="M25.17 6.71c-3.28 0-5.954 2.505-5.954 5.958 0 3.433 2.673 5.96 5.954 5.96 3.282 0 5.955-2.527 5.955-5.96 0-3.453-2.673-5.96-5.955-5.96zm0 9.567c-1.8 0-3.35-1.487-3.35-3.61 0-2.14 1.55-3.608 3.35-3.608s3.35 1.46 3.35 3.6c0 2.12-1.55 3.61-3.35 3.61z"/></g><g id="idEJde"><path fill="#4285f4" d="M14.11 14.182c.722-.723 1.205-1.78 1.387-3.334H9.423V8.373h8.518c.09.452.16 1.07.16 1.664 0 1.903-.52 4.26-2.19 5.934-1.63 1.7-3.71 2.61-6.48 2.61-5.12 0-9.42-4.17-9.42-9.29C0 4.17 4.31 0 9.43 0c2.83 0 4.843 1.108 6.362 2.56L14 4.347c-1.087-1.02-2.56-1.81-4.577-1.81-3.74 0-6.662 3.01-6.662 6.75s2.93 6.75 6.67 6.75c2.43 0 3.81-.972 4.69-1.856z"/></g><br/> </svg><br> </center><br> <center>大法保平安</center></li></ol><!--  npm install -g hexo  npm install hexo-wordcount --save  npm install hexo-deployer-git -–save  npm install hexo-generator-searchdb --save  npm install hexo-generator-feed  npm install hexo-generator-feed --save  npm install hexo-generator-sitemap --save  npm install hexo-generator-baidu-sitemap --save  npm install hexo-symbols-count-time --save-->]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;劝退三连，不推荐新手尝试，新手请用&lt;a href=&quot;https://cn.wordpress.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;WordPress&lt;/a&gt;，&lt;a href=&quot;http://typecho.or
      
    
    </summary>
    
      <category term="Hexo" scheme="https://iitii.github.io/categories/Hexo/"/>
    
    
      <category term="Hexo" scheme="https://iitii.github.io/tags/Hexo/"/>
    
      <category term="config" scheme="https://iitii.github.io/tags/config/"/>
    
  </entry>
  
</feed>
